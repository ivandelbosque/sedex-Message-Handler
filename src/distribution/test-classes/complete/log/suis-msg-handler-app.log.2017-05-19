2017-05-19 16:30:39.270 [MessageHandlerService:73] [INFO] +-------------------------------------+
2017-05-19 16:30:39.273 [MessageHandlerService:74] [INFO] open-egov-msghandler 3.4.0
2017-05-19 16:30:39.273 [MessageHandlerService:75] [INFO] +-------------------------------------+
2017-05-19 16:30:39.274 [MessageHandlerService:77] [INFO] configuring the message handler service from the configuration file ./src/test/resources/complete/mh-multi//install-dir/conf/config.xml
2017-05-19 16:30:39.999 [ClientConfigurationFactory:142] [INFO] Sedex adapter configuration added, 
	participantId: 7-4-1;
	inbox folder: ./src/test/resources/complete/sedex/inbox;
	outbox folder: ./src/test/resources/complete/sedex/outbox;
	receipt folder: ./src/test/resources/complete/sedex/receipts;
	sent folder: ./src/test/resources/complete/sedex/sent;
2017-05-19 16:30:39.999 [ClientConfigurationFactory:553] [INFO] baseDir is: ./src/test/resources/complete/mh-multi/base-path
2017-05-19 16:30:40.000 [ClientConfigurationFactory:536] [INFO] workingDir is: ./src/test/resources/complete/mh-multi/install-dir/workingDir
2017-05-19 16:30:40.001 [ClientConfigurationFactory:151] [WARN] No delayer has been set with the key messageHandler.minimumFileAge.waitFor, which means every file will be sent ASAP instead of waiting for a bit ! This is usually a bad idea for big files as they tend to be slow...
2017-05-19 16:30:40.005 [ClientConfigurationFactory:220] [INFO] Configure the native MH applications...
2017-05-19 16:30:40.011 [Outbox:78] [INFO] Created NativeOutbox: SedexId: 7-4-2, Type: 10003, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:30:40.011 [ClientConfigurationFactory:276] [INFO] participant ID resolver configured, ScriptedNamingService: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\recipientIdResolver.groovy, Method: resolve for outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:30:40.012 [ClientConfigurationFactory:287] [INFO] sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox; type of the outgoing messages: 10003; sedex ID of the sender: 7-4-2;
2017-05-19 16:30:40.013 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-2, Types: {10003}, Mode: NATIVE, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\inbox
2017-05-19 16:30:40.014 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-2, 10003
2017-05-19 16:30:40.014 [ClientConfigurationFactory:384] [INFO] Configure the transparent applications...
2017-05-19 16:30:40.014 [Outbox:95] [INFO] Created TransparentOutbox: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:30:40.015 [ClientConfigurationFactory:405] [INFO] transparent sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox; type of the outgoing messages: [not specified]; sedex ID of the sender: [not specified];
2017-05-19 16:30:40.015 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-3, Types: {10003}, Mode: TRANSPARENT, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox
2017-05-19 16:30:40.015 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-3, 10003
2017-05-19 16:30:40.017 [ReceiptsFolder:64] [INFO] Created ReceiptsFolder: SedexId: 7-4-3, Types: {10003}, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\receipts
2017-05-19 16:30:40.017 [Outbox:95] [INFO] Created TransparentOutbox: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:30:40.018 [ClientConfigurationFactory:405] [INFO] transparent sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox; type of the outgoing messages: [not specified]; sedex ID of the sender: [not specified];
2017-05-19 16:30:40.018 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-4, Types: {10003}, Mode: TRANSPARENT, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\inbox
2017-05-19 16:30:40.019 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-4, 10003
2017-05-19 16:30:40.019 [ReceiptsFolder:64] [INFO] Created ReceiptsFolder: SedexId: 7-4-4, Types: {10003}, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\receipts
2017-05-19 16:30:40.020 [ClientConfigurationFactory:431] [INFO] receiver added, cron expression: 0/5 * * * * ?, inboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\inbox; transparent: NATIVE; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-2;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox; transparent: TRANSPARENT; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-3;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\inbox; transparent: TRANSPARENT; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-4;
2017-05-19 16:30:40.020 [ClientConfigurationFactory:434] [INFO] status checker added, cron expression: 0/5 * * * * ?, folders: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\receipts; types of the checked messages: 10003; sedex ID of the participant: 7-4-3;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\receipts; types of the checked messages: 10003; sedex ID of the participant: 7-4-4;
2017-05-19 16:30:40.022 [ClientConfigurationFactory:489] [INFO] message status database configured, database folder: ./src/test/resources/complete/DB; maxAge: 2; resend: true;
2017-05-19 16:30:40.023 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-2: [10003]
2017-05-19 16:30:40.024 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-3: [10003]
2017-05-19 16:30:40.024 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-4: [10003]
2017-05-19 16:30:40.025 [ClientConfigurationFactory:454] [INFO] protocol writer configured
2017-05-19 16:30:40.026 [ClientConfigurationFactory:464] [INFO] webservice interface configured, host name: localhost; port number: 18'080
2017-05-19 16:30:40.026 [MessageHandler:82] [INFO] initializing the protocol service via Log4j interface
2017-05-19 16:30:40.027 [MessageHandler:86] [INFO] initializing the message status service (DbLog)
2017-05-19 16:30:40.187 [DbLogService:189] [ERROR] java.sql.SQLException: Table not found in statement [DELETE FROM status WHERE (received_date IS NULL AND DATEDIFF('dd', sent_date, CURRENT_TIMESTAMP) > ?) OR DATEDIFF('dd', received_date, CURRENT_TIMESTAMP) > ?] Query: DELETE FROM status WHERE (received_date IS NULL AND DATEDIFF('dd', sent_date, CURRENT_TIMESTAMP) > ?) OR DATEDIFF('dd', received_date, CURRENT_TIMESTAMP) > ? Parameters: [2, 2]
2017-05-19 16:30:40.187 [DbLogService:191] [DEBUG] Creating the status table...
2017-05-19 16:30:40.228 [DbLogService:193] [INFO] The status table is created.
2017-05-19 16:30:40.228 [MessageHandler:97] [INFO] the message status service (DbLog) initialized
2017-05-19 16:30:40.323 [SimpleThreadPool:258] [INFO] Job execution threads will use class loader of thread: main
2017-05-19 16:30:40.337 [QuartzScheduler:209] [INFO] Quartz Scheduler v.1.6.0 created.
2017-05-19 16:30:40.339 [RAMJobStore:141] [INFO] RAMJobStore initialized.
2017-05-19 16:30:40.339 [StdSchedulerFactory:1208] [INFO] Quartz scheduler 'DefaultQuartzScheduler' initialized from default resource file in Quartz package: 'quartz.properties'
2017-05-19 16:30:40.339 [StdSchedulerFactory:1212] [INFO] Quartz scheduler version: 1.6.0
2017-05-19 16:30:40.376 [MessageHandler:210] [INFO] HTTP server started on host localhost  and port 18080
2017-05-19 16:30:40.384 [MessageHandlerService:104] [INFO] SUIS message handler service initialized
2017-05-19 16:30:40.385 [MessageHandlerService:113] [INFO] SUIS message handler service started
2017-05-19 16:30:40.385 [ServiceRunner:60] [INFO] starting the Quartz jobs
2017-05-19 16:30:40.385 [QuartzScheduler:455] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2017-05-19 16:30:40.400 [ServiceRunner:87] [INFO] sender started with name=senderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:30:40.402 [ServiceRunner:110] [INFO] transparent sender started with name=transparentSenderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:30:40.404 [ServiceRunner:110] [INFO] transparent sender started with name=transparentSenderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:30:40.407 [ServiceRunner:121] [INFO] receiver started
2017-05-19 16:30:40.411 [ServiceRunner:130] [INFO] message status checker started
2017-05-19 16:30:40.414 [ServiceRunner:140] [INFO] cleanup job for message status DB started
2017-05-19 16:30:40.417 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:30:40.418 [StatusCheckerJob:49] [DEBUG] status checker job started
2017-05-19 16:30:40.419 [ReceiverJob:51] [DEBUG] receiver job started
2017-05-19 16:30:40.420 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:30:40.420 [SenderSessionImpl:267] [DEBUG] Nothing to sign. No SigningOutbox is defined for: outbox
2017-05-19 16:30:40.421 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:30:40.457 [StatusChecker:93] [DEBUG] checker completed
2017-05-19 16:30:40.460 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:30:40.460 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:30:40.460 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:30:40.460 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:30:40.461 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:30:40.461 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:30:40.461 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:30:40.462 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:30:40.462 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:30:40.462 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:30:40.467 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:30:40.468 [MessageCollection:153] [DEBUG] Create message from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\envl_95b29548-8482-48d7-801d-1901fa8bf208.xml
2017-05-19 16:30:40.656 [MessageCollection:138] [INFO] reading the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip for the message ID 95b29548-8482-48d7-801d-1901fa8bf208
2017-05-19 16:30:40.665 [TransparentSenderSessionImpl:159] [DEBUG] the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip was copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\outbox as .\src\test\resources\complete\sedex\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip
2017-05-19 16:30:40.668 [TransparentSenderSessionImpl:173] [INFO] the data file and envelope for the message ID 95b29548-8482-48d7-801d-1901fa8bf208 copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\outbox
2017-05-19 16:30:40.671 [TransparentSenderSessionImpl:159] [DEBUG] the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip was copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox as .\src\test\resources\complete\sedex\inbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip
2017-05-19 16:30:40.673 [TransparentSenderSessionImpl:173] [INFO] the data file and envelope for the message ID 95b29548-8482-48d7-801d-1901fa8bf208 copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:30:40.697 [XMLValidator:90] [DEBUG] Schema location for eCH-0090-2-0.xsd: http://www.ech.ch/xmlns/eCH-0090/2 file:/C:/Users/pirklt/Desktop/MessageHandler-SRC/src/distribution/test-classes/eCH-0090-2-0.xsd
2017-05-19 16:30:40.709 [SenderSession:147] [DEBUG] Generate and save a receipt report: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\receipts\receipt__ID_95b29548-8482-48d7-801d-1901fa8bf208_1.xml
2017-05-19 16:30:40.715 [XMLValidator:90] [DEBUG] Schema location for eCH-0090-2-0.xsd: http://www.ech.ch/xmlns/eCH-0090/2 file:/C:/Users/pirklt/Desktop/MessageHandler-SRC/src/distribution/test-classes/eCH-0090-2-0.xsd
2017-05-19 16:30:40.723 [SenderSession:147] [DEBUG] Generate and save a receipt report: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\receipts\receipt__ID_95b29548-8482-48d7-801d-1901fa8bf208_2.xml
2017-05-19 16:30:40.730 [SenderSession:86] [DEBUG] envelope file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\envl_95b29548-8482-48d7-801d-1901fa8bf208.xml successfully removed
2017-05-19 16:30:40.731 [SenderSession:91] [DEBUG] data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip successfully removed
2017-05-19 16:30:40.731 [Sender:88] [DEBUG] sender completed
2017-05-19 16:30:45.016 [StatusCheckerJob:49] [DEBUG] status checker job started
2017-05-19 16:30:45.018 [ReceiverJob:51] [DEBUG] receiver job started
2017-05-19 16:30:45.020 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:30:45.022 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:30:45.024 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:30:45.051 [StatusCheckerSessionImpl:137] [INFO] message ID 95b29548-8482-48d7-801d-1901fa8bf208: receipt found
2017-05-19 16:30:45.062 [StatusCheckerSessionImpl:137] [INFO] message ID 95b29548-8482-48d7-801d-1901fa8bf208: receipt found
2017-05-19 16:31:03.433 [MessageHandlerService:136] [INFO] stopping the message handler service
2017-05-19 16:31:03.436 [StatusCheckerSessionImpl:327] [INFO] message ID 95b29548-8482-48d7-801d-1901fa8bf208: the message has been delivered by the Sedex adapter, status null
2017-05-19 16:31:03.443 [StatusCheckerSessionImpl:327] [INFO] message ID 95b29548-8482-48d7-801d-1901fa8bf208: the message has been delivered by the Sedex adapter, status null
2017-05-19 16:31:03.448 [StatusChecker:93] [DEBUG] checker completed
2017-05-19 16:31:03.448 [QuartzScheduler:542] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutting down.
2017-05-19 16:31:03.449 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:31:03.450 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:31:03.449 [QuartzScheduler:470] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED paused.
2017-05-19 16:31:03.452 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:31:03.452 [QuartzScheduler:592] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutdown complete.
2017-05-19 16:31:03.453 [MessageCollection:153] [DEBUG] Create message from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox\envl_95b29548-8482-48d7-801d-1901fa8bf208.xml
2017-05-19 16:31:03.567 [MessageCollection:138] [INFO] reading the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip for the message ID 95b29548-8482-48d7-801d-1901fa8bf208
2017-05-19 16:31:03.568 [NativeAppInbox:80] [DEBUG] unpacking message with message_ID=95b29548-8482-48d7-801d-1901fa8bf208
2017-05-19 16:31:03.570 [ZipUtils:96] [DEBUG] cannot make all the necessary directories for the file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\install-dir\workingDir\tmp\receiving\test1.pdf or the path is already created 
2017-05-19 16:31:03.574 [NativeAppInbox:86] [DEBUG] extracted file: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\install-dir\workingDir\tmp\receiving\test1.pdf
2017-05-19 16:31:03.578 [TransparentInbox:55] [INFO] the envelope file envl_95b29548-8482-48d7-801d-1901fa8bf208.xml put transparently into the inbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox
2017-05-19 16:31:03.581 [TransparentInbox:62] [INFO] the data file data_95b29548-8482-48d7-801d-1901fa8bf208.zip put transparently into the inbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox
2017-05-19 16:32:42.803 [MessageHandlerService:73] [INFO] +-------------------------------------+
2017-05-19 16:32:42.808 [MessageHandlerService:74] [INFO] open-egov-msghandler 3.4.0
2017-05-19 16:32:42.809 [MessageHandlerService:75] [INFO] +-------------------------------------+
2017-05-19 16:32:42.809 [MessageHandlerService:77] [INFO] configuring the message handler service from the configuration file ./src/test/resources/complete/mh-multi//install-dir/conf/config.xml
2017-05-19 16:32:43.836 [ClientConfigurationFactory:142] [INFO] Sedex adapter configuration added, 
	participantId: 7-4-1;
	inbox folder: ./src/test/resources/complete/sedex/inbox;
	outbox folder: ./src/test/resources/complete/sedex/outbox;
	receipt folder: ./src/test/resources/complete/sedex/receipts;
	sent folder: ./src/test/resources/complete/sedex/sent;
2017-05-19 16:32:43.837 [ClientConfigurationFactory:553] [INFO] baseDir is: ./src/test/resources/complete/mh-multi/base-path
2017-05-19 16:32:43.838 [ClientConfigurationFactory:536] [INFO] workingDir is: ./src/test/resources/complete/mh-multi/install-dir/workingDir
2017-05-19 16:32:43.838 [ClientConfigurationFactory:151] [WARN] No delayer has been set with the key messageHandler.minimumFileAge.waitFor, which means every file will be sent ASAP instead of waiting for a bit ! This is usually a bad idea for big files as they tend to be slow...
2017-05-19 16:32:43.841 [ClientConfigurationFactory:220] [INFO] Configure the native MH applications...
2017-05-19 16:32:43.847 [Outbox:78] [INFO] Created NativeOutbox: SedexId: 7-4-2, Type: 10003, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:32:43.848 [ClientConfigurationFactory:276] [INFO] participant ID resolver configured, ScriptedNamingService: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\recipientIdResolver.groovy, Method: resolve for outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:32:43.848 [ClientConfigurationFactory:287] [INFO] sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox; type of the outgoing messages: 10003; sedex ID of the sender: 7-4-2;
2017-05-19 16:32:43.850 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-2, Types: {10003}, Mode: NATIVE, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\inbox
2017-05-19 16:32:43.850 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-2, 10003
2017-05-19 16:32:43.850 [ClientConfigurationFactory:384] [INFO] Configure the transparent applications...
2017-05-19 16:32:43.851 [Outbox:95] [INFO] Created TransparentOutbox: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:32:43.851 [ClientConfigurationFactory:405] [INFO] transparent sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox; type of the outgoing messages: [not specified]; sedex ID of the sender: [not specified];
2017-05-19 16:32:43.852 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-3, Types: {10003}, Mode: TRANSPARENT, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox
2017-05-19 16:32:43.852 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-3, 10003
2017-05-19 16:32:43.853 [ReceiptsFolder:64] [INFO] Created ReceiptsFolder: SedexId: 7-4-3, Types: {10003}, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\receipts
2017-05-19 16:32:43.854 [Outbox:95] [INFO] Created TransparentOutbox: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:32:43.854 [ClientConfigurationFactory:405] [INFO] transparent sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox; type of the outgoing messages: [not specified]; sedex ID of the sender: [not specified];
2017-05-19 16:32:43.854 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-4, Types: {10003}, Mode: TRANSPARENT, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\inbox
2017-05-19 16:32:43.855 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-4, 10003
2017-05-19 16:32:43.855 [ReceiptsFolder:64] [INFO] Created ReceiptsFolder: SedexId: 7-4-4, Types: {10003}, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\receipts
2017-05-19 16:32:43.856 [ClientConfigurationFactory:431] [INFO] receiver added, cron expression: 0/5 * * * * ?, inboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\inbox; transparent: NATIVE; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-2;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox; transparent: TRANSPARENT; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-3;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\inbox; transparent: TRANSPARENT; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-4;
2017-05-19 16:32:43.856 [ClientConfigurationFactory:434] [INFO] status checker added, cron expression: 0/5 * * * * ?, folders: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\receipts; types of the checked messages: 10003; sedex ID of the participant: 7-4-3;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\receipts; types of the checked messages: 10003; sedex ID of the participant: 7-4-4;
2017-05-19 16:32:43.858 [ClientConfigurationFactory:489] [INFO] message status database configured, database folder: ./src/test/resources/complete/DB; maxAge: 2; resend: true;
2017-05-19 16:32:43.859 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-2: [10003]
2017-05-19 16:32:43.860 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-3: [10003]
2017-05-19 16:32:43.860 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-4: [10003]
2017-05-19 16:32:43.861 [ClientConfigurationFactory:454] [INFO] protocol writer configured
2017-05-19 16:32:43.862 [ClientConfigurationFactory:464] [INFO] webservice interface configured, host name: localhost; port number: 18'080
2017-05-19 16:32:43.862 [MessageHandler:82] [INFO] initializing the protocol service via Log4j interface
2017-05-19 16:32:43.863 [MessageHandler:86] [INFO] initializing the message status service (DbLog)
2017-05-19 16:32:43.998 [DbLogService:189] [ERROR] java.sql.SQLException: Table not found in statement [DELETE FROM status WHERE (received_date IS NULL AND DATEDIFF('dd', sent_date, CURRENT_TIMESTAMP) > ?) OR DATEDIFF('dd', received_date, CURRENT_TIMESTAMP) > ?] Query: DELETE FROM status WHERE (received_date IS NULL AND DATEDIFF('dd', sent_date, CURRENT_TIMESTAMP) > ?) OR DATEDIFF('dd', received_date, CURRENT_TIMESTAMP) > ? Parameters: [2, 2]
2017-05-19 16:32:43.999 [DbLogService:191] [DEBUG] Creating the status table...
2017-05-19 16:32:44.038 [DbLogService:193] [INFO] The status table is created.
2017-05-19 16:32:44.038 [MessageHandler:97] [INFO] the message status service (DbLog) initialized
2017-05-19 16:32:44.128 [SimpleThreadPool:258] [INFO] Job execution threads will use class loader of thread: main
2017-05-19 16:32:44.141 [QuartzScheduler:209] [INFO] Quartz Scheduler v.1.6.0 created.
2017-05-19 16:32:44.142 [RAMJobStore:141] [INFO] RAMJobStore initialized.
2017-05-19 16:32:44.142 [StdSchedulerFactory:1208] [INFO] Quartz scheduler 'DefaultQuartzScheduler' initialized from default resource file in Quartz package: 'quartz.properties'
2017-05-19 16:32:44.143 [StdSchedulerFactory:1212] [INFO] Quartz scheduler version: 1.6.0
2017-05-19 16:32:44.174 [MessageHandler:210] [INFO] HTTP server started on host localhost  and port 18080
2017-05-19 16:32:44.182 [MessageHandlerService:104] [INFO] SUIS message handler service initialized
2017-05-19 16:32:44.182 [MessageHandlerService:113] [INFO] SUIS message handler service started
2017-05-19 16:32:44.183 [ServiceRunner:60] [INFO] starting the Quartz jobs
2017-05-19 16:32:44.183 [QuartzScheduler:455] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2017-05-19 16:32:44.197 [ServiceRunner:87] [INFO] sender started with name=senderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:32:44.199 [ServiceRunner:110] [INFO] transparent sender started with name=transparentSenderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:32:44.200 [ServiceRunner:110] [INFO] transparent sender started with name=transparentSenderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:32:44.202 [ServiceRunner:121] [INFO] receiver started
2017-05-19 16:32:44.206 [ServiceRunner:130] [INFO] message status checker started
2017-05-19 16:32:44.210 [ServiceRunner:140] [INFO] cleanup job for message status DB started
2017-05-19 16:32:45.020 [StatusCheckerJob:49] [DEBUG] status checker job started
2017-05-19 16:32:45.021 [ReceiverJob:51] [DEBUG] receiver job started
2017-05-19 16:32:45.025 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:32:45.026 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:32:45.026 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:32:45.046 [StatusChecker:93] [DEBUG] checker completed
2017-05-19 16:32:45.049 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:32:45.049 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:32:45.050 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:32:45.050 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:32:45.053 [SenderSessionImpl:267] [DEBUG] Nothing to sign. No SigningOutbox is defined for: outbox
2017-05-19 16:32:45.054 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:32:45.054 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:32:45.054 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:32:45.054 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:32:45.055 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:32:45.055 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:32:45.060 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:32:45.060 [MessageCollection:153] [DEBUG] Create message from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\envl_95b29548-8482-48d7-801d-1901fa8bf208.xml
2017-05-19 16:32:45.241 [MessageCollection:138] [INFO] reading the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip for the message ID 95b29548-8482-48d7-801d-1901fa8bf208
2017-05-19 16:32:45.250 [TransparentSenderSessionImpl:159] [DEBUG] the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip was copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\outbox as .\src\test\resources\complete\sedex\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip
2017-05-19 16:32:45.253 [TransparentSenderSessionImpl:173] [INFO] the data file and envelope for the message ID 95b29548-8482-48d7-801d-1901fa8bf208 copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\outbox
2017-05-19 16:32:45.256 [TransparentSenderSessionImpl:159] [DEBUG] the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip was copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox as .\src\test\resources\complete\sedex\inbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip
2017-05-19 16:32:45.258 [TransparentSenderSessionImpl:173] [INFO] the data file and envelope for the message ID 95b29548-8482-48d7-801d-1901fa8bf208 copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:32:45.281 [XMLValidator:90] [DEBUG] Schema location for eCH-0090-2-0.xsd: http://www.ech.ch/xmlns/eCH-0090/2 file:/C:/Users/pirklt/Desktop/MessageHandler-SRC/src/distribution/test-classes/eCH-0090-2-0.xsd
2017-05-19 16:32:45.292 [SenderSession:147] [DEBUG] Generate and save a receipt report: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\receipts\receipt__ID_95b29548-8482-48d7-801d-1901fa8bf208_1.xml
2017-05-19 16:32:45.299 [XMLValidator:90] [DEBUG] Schema location for eCH-0090-2-0.xsd: http://www.ech.ch/xmlns/eCH-0090/2 file:/C:/Users/pirklt/Desktop/MessageHandler-SRC/src/distribution/test-classes/eCH-0090-2-0.xsd
2017-05-19 16:32:45.307 [SenderSession:147] [DEBUG] Generate and save a receipt report: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\receipts\receipt__ID_95b29548-8482-48d7-801d-1901fa8bf208_2.xml
2017-05-19 16:32:45.313 [SenderSession:86] [DEBUG] envelope file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\envl_95b29548-8482-48d7-801d-1901fa8bf208.xml successfully removed
2017-05-19 16:32:45.314 [SenderSession:91] [DEBUG] data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip successfully removed
2017-05-19 16:32:45.314 [Sender:88] [DEBUG] sender completed
2017-05-19 16:32:50.012 [StatusCheckerJob:49] [DEBUG] status checker job started
2017-05-19 16:32:50.014 [ReceiverJob:51] [DEBUG] receiver job started
2017-05-19 16:32:50.017 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:32:50.019 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:32:50.021 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:32:50.047 [StatusCheckerSessionImpl:137] [INFO] message ID 95b29548-8482-48d7-801d-1901fa8bf208: receipt found
2017-05-19 16:32:50.065 [StatusCheckerSessionImpl:137] [INFO] message ID 95b29548-8482-48d7-801d-1901fa8bf208: receipt found
2017-05-19 16:33:16.350 [MessageHandlerService:136] [INFO] stopping the message handler service
2017-05-19 16:33:19.407 [StatusCheckerSessionImpl:327] [INFO] message ID 95b29548-8482-48d7-801d-1901fa8bf208: the message has been delivered by the Sedex adapter, status null
2017-05-19 16:33:21.704 [StatusCheckerSessionImpl:327] [INFO] message ID 95b29548-8482-48d7-801d-1901fa8bf208: the message has been delivered by the Sedex adapter, status null
2017-05-19 16:33:21.710 [StatusChecker:93] [DEBUG] checker completed
2017-05-19 16:33:21.710 [QuartzScheduler:542] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutting down.
2017-05-19 16:33:21.711 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:33:21.712 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:33:21.712 [QuartzScheduler:470] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED paused.
2017-05-19 16:33:21.714 [QuartzScheduler:592] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutdown complete.
2017-05-19 16:33:21.715 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:33:21.716 [MessageCollection:153] [DEBUG] Create message from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox\envl_95b29548-8482-48d7-801d-1901fa8bf208.xml
2017-05-19 16:33:21.841 [MessageCollection:138] [INFO] reading the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip for the message ID 95b29548-8482-48d7-801d-1901fa8bf208
2017-05-19 16:33:21.842 [NativeAppInbox:80] [DEBUG] unpacking message with message_ID=95b29548-8482-48d7-801d-1901fa8bf208
2017-05-19 16:33:21.844 [ZipUtils:96] [DEBUG] cannot make all the necessary directories for the file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\install-dir\workingDir\tmp\receiving\test1.pdf or the path is already created 
2017-05-19 16:33:21.847 [NativeAppInbox:86] [DEBUG] extracted file: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\install-dir\workingDir\tmp\receiving\test1.pdf
2017-05-19 16:33:21.850 [TransparentInbox:55] [INFO] the envelope file envl_95b29548-8482-48d7-801d-1901fa8bf208.xml put transparently into the inbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox
2017-05-19 16:33:21.854 [TransparentInbox:62] [INFO] the data file data_95b29548-8482-48d7-801d-1901fa8bf208.zip put transparently into the inbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox
2017-05-19 16:33:21.955 [DbLogService:358] [DEBUG] shutdown statement issued for the log service
2017-05-19 16:33:21.956 [DbLogService:362] [DEBUG] log service stopped
2017-05-19 16:33:22.059 [MessageHandler:131] [INFO] HTTP server terminated
2017-05-19 16:33:22.060 [MessageHandlerService:139] [INFO] the message handler service stopped with the exit code 0
2017-05-19 16:33:22.086 [NativeAppInbox:63] [INFO] file test1.pdf received and put into the inbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\inbox
2017-05-19 16:33:22.091 [ReceiverSessionImpl:181] [DEBUG] envelope file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox\envl_95b29548-8482-48d7-801d-1901fa8bf208.xml successfully removed from the input directory of the sedex adapter
2017-05-19 16:33:22.093 [ReceiverSessionImpl:196] [INFO] data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip successfully removed from the input directory of the sedex adapter
2017-05-19 16:33:22.093 [Receiver:83] [DEBUG] receiver completed
2017-05-19 16:33:22.094 [SenderSessionImpl:267] [DEBUG] Nothing to sign. No SigningOutbox is defined for: outbox
2017-05-19 16:33:22.095 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:33:22.096 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:33:22.097 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:33:22.098 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:33:22.099 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:33:22.100 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:33:22.101 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:33:22.102 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:34:48.321 [MessageHandlerService:73] [INFO] +-------------------------------------+
2017-05-19 16:34:48.324 [MessageHandlerService:74] [INFO] open-egov-msghandler 3.4.0
2017-05-19 16:34:48.324 [MessageHandlerService:75] [INFO] +-------------------------------------+
2017-05-19 16:34:48.325 [MessageHandlerService:77] [INFO] configuring the message handler service from the configuration file ./src/test/resources/complete/mh-multi//install-dir/conf/config.xml
2017-05-19 16:34:48.919 [ClientConfigurationFactory:142] [INFO] Sedex adapter configuration added, 
	participantId: 7-4-1;
	inbox folder: ./src/test/resources/complete/sedex/inbox;
	outbox folder: ./src/test/resources/complete/sedex/outbox;
	receipt folder: ./src/test/resources/complete/sedex/receipts;
	sent folder: ./src/test/resources/complete/sedex/sent;
2017-05-19 16:34:48.920 [ClientConfigurationFactory:553] [INFO] baseDir is: ./src/test/resources/complete/mh-multi/base-path
2017-05-19 16:34:48.921 [ClientConfigurationFactory:536] [INFO] workingDir is: ./src/test/resources/complete/mh-multi/install-dir/workingDir
2017-05-19 16:34:48.921 [ClientConfigurationFactory:151] [WARN] No delayer has been set with the key messageHandler.minimumFileAge.waitFor, which means every file will be sent ASAP instead of waiting for a bit ! This is usually a bad idea for big files as they tend to be slow...
2017-05-19 16:34:48.924 [ClientConfigurationFactory:220] [INFO] Configure the native MH applications...
2017-05-19 16:34:48.931 [Outbox:78] [INFO] Created NativeOutbox: SedexId: 7-4-2, Type: 10003, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:34:48.932 [ClientConfigurationFactory:276] [INFO] participant ID resolver configured, ScriptedNamingService: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\recipientIdResolver.groovy, Method: resolve for outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:34:48.932 [ClientConfigurationFactory:287] [INFO] sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox; type of the outgoing messages: 10003; sedex ID of the sender: 7-4-2;
2017-05-19 16:34:48.934 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-2, Types: {10003}, Mode: NATIVE, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\inbox
2017-05-19 16:34:48.934 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-2, 10003
2017-05-19 16:34:48.934 [ClientConfigurationFactory:384] [INFO] Configure the transparent applications...
2017-05-19 16:34:48.935 [Outbox:95] [INFO] Created TransparentOutbox: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:34:48.936 [ClientConfigurationFactory:405] [INFO] transparent sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox; type of the outgoing messages: [not specified]; sedex ID of the sender: [not specified];
2017-05-19 16:34:48.937 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-3, Types: {10003}, Mode: TRANSPARENT, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox
2017-05-19 16:34:48.937 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-3, 10003
2017-05-19 16:34:48.938 [ReceiptsFolder:64] [INFO] Created ReceiptsFolder: SedexId: 7-4-3, Types: {10003}, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\receipts
2017-05-19 16:34:48.939 [Outbox:95] [INFO] Created TransparentOutbox: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:34:48.939 [ClientConfigurationFactory:405] [INFO] transparent sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox; type of the outgoing messages: [not specified]; sedex ID of the sender: [not specified];
2017-05-19 16:34:48.940 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-4, Types: {10003}, Mode: TRANSPARENT, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\inbox
2017-05-19 16:34:48.940 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-4, 10003
2017-05-19 16:34:48.940 [ReceiptsFolder:64] [INFO] Created ReceiptsFolder: SedexId: 7-4-4, Types: {10003}, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\receipts
2017-05-19 16:34:48.941 [ClientConfigurationFactory:431] [INFO] receiver added, cron expression: 0/5 * * * * ?, inboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\inbox; transparent: NATIVE; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-2;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox; transparent: TRANSPARENT; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-3;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\inbox; transparent: TRANSPARENT; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-4;
2017-05-19 16:34:48.941 [ClientConfigurationFactory:434] [INFO] status checker added, cron expression: 0/5 * * * * ?, folders: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\receipts; types of the checked messages: 10003; sedex ID of the participant: 7-4-3;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\receipts; types of the checked messages: 10003; sedex ID of the participant: 7-4-4;
2017-05-19 16:34:48.943 [ClientConfigurationFactory:489] [INFO] message status database configured, database folder: ./src/test/resources/complete/DB; maxAge: 2; resend: true;
2017-05-19 16:34:48.945 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-2: [10003]
2017-05-19 16:34:48.946 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-3: [10003]
2017-05-19 16:34:48.946 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-4: [10003]
2017-05-19 16:34:48.948 [ClientConfigurationFactory:454] [INFO] protocol writer configured
2017-05-19 16:34:48.948 [ClientConfigurationFactory:464] [INFO] webservice interface configured, host name: localhost; port number: 18'080
2017-05-19 16:34:48.948 [MessageHandler:82] [INFO] initializing the protocol service via Log4j interface
2017-05-19 16:34:48.950 [MessageHandler:86] [INFO] initializing the message status service (DbLog)
2017-05-19 16:34:49.133 [DbLogService:189] [ERROR] java.sql.SQLException: Table not found in statement [DELETE FROM status WHERE (received_date IS NULL AND DATEDIFF('dd', sent_date, CURRENT_TIMESTAMP) > ?) OR DATEDIFF('dd', received_date, CURRENT_TIMESTAMP) > ?] Query: DELETE FROM status WHERE (received_date IS NULL AND DATEDIFF('dd', sent_date, CURRENT_TIMESTAMP) > ?) OR DATEDIFF('dd', received_date, CURRENT_TIMESTAMP) > ? Parameters: [2, 2]
2017-05-19 16:34:49.134 [DbLogService:191] [DEBUG] Creating the status table...
2017-05-19 16:34:49.181 [DbLogService:193] [INFO] The status table is created.
2017-05-19 16:34:49.181 [MessageHandler:97] [INFO] the message status service (DbLog) initialized
2017-05-19 16:34:49.283 [SimpleThreadPool:258] [INFO] Job execution threads will use class loader of thread: main
2017-05-19 16:34:49.297 [QuartzScheduler:209] [INFO] Quartz Scheduler v.1.6.0 created.
2017-05-19 16:34:49.299 [RAMJobStore:141] [INFO] RAMJobStore initialized.
2017-05-19 16:34:49.299 [StdSchedulerFactory:1208] [INFO] Quartz scheduler 'DefaultQuartzScheduler' initialized from default resource file in Quartz package: 'quartz.properties'
2017-05-19 16:34:49.299 [StdSchedulerFactory:1212] [INFO] Quartz scheduler version: 1.6.0
2017-05-19 16:34:49.337 [MessageHandler:210] [INFO] HTTP server started on host localhost  and port 18080
2017-05-19 16:34:49.337 [MessageHandlerService:104] [INFO] SUIS message handler service initialized
2017-05-19 16:34:49.344 [MessageHandlerService:113] [INFO] SUIS message handler service started
2017-05-19 16:34:49.345 [ServiceRunner:60] [INFO] starting the Quartz jobs
2017-05-19 16:34:49.345 [QuartzScheduler:455] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2017-05-19 16:34:49.359 [ServiceRunner:87] [INFO] sender started with name=senderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:34:49.361 [ServiceRunner:110] [INFO] transparent sender started with name=transparentSenderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:34:49.363 [ServiceRunner:110] [INFO] transparent sender started with name=transparentSenderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:34:49.366 [ServiceRunner:121] [INFO] receiver started
2017-05-19 16:34:49.369 [ServiceRunner:130] [INFO] message status checker started
2017-05-19 16:34:49.373 [ServiceRunner:140] [INFO] cleanup job for message status DB started
2017-05-19 16:34:50.025 [StatusCheckerJob:49] [DEBUG] status checker job started
2017-05-19 16:34:50.026 [ReceiverJob:51] [DEBUG] receiver job started
2017-05-19 16:34:50.029 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:34:50.030 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:34:50.031 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:34:50.050 [StatusChecker:93] [DEBUG] checker completed
2017-05-19 16:34:50.053 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:34:50.053 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:34:50.054 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:34:50.054 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:34:50.057 [SenderSessionImpl:267] [DEBUG] Nothing to sign. No SigningOutbox is defined for: outbox
2017-05-19 16:34:50.058 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:34:50.058 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:34:50.058 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:34:50.058 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:34:50.059 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:34:50.059 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:34:50.064 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:34:50.064 [MessageCollection:153] [DEBUG] Create message from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\envl_95b29548-8482-48d7-801d-1901fa8bf208.xml
2017-05-19 16:34:50.239 [MessageCollection:138] [INFO] reading the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip for the message ID 95b29548-8482-48d7-801d-1901fa8bf208
2017-05-19 16:34:50.248 [TransparentSenderSessionImpl:159] [DEBUG] the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip was copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\outbox as .\src\test\resources\complete\sedex\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip
2017-05-19 16:34:50.251 [TransparentSenderSessionImpl:173] [INFO] the data file and envelope for the message ID 95b29548-8482-48d7-801d-1901fa8bf208 copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\outbox
2017-05-19 16:34:50.254 [TransparentSenderSessionImpl:159] [DEBUG] the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip was copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox as .\src\test\resources\complete\sedex\inbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip
2017-05-19 16:34:50.256 [TransparentSenderSessionImpl:173] [INFO] the data file and envelope for the message ID 95b29548-8482-48d7-801d-1901fa8bf208 copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:34:50.283 [XMLValidator:90] [DEBUG] Schema location for eCH-0090-2-0.xsd: http://www.ech.ch/xmlns/eCH-0090/2 file:/C:/Users/pirklt/Desktop/MessageHandler-SRC/src/distribution/test-classes/eCH-0090-2-0.xsd
2017-05-19 16:34:50.294 [SenderSession:147] [DEBUG] Generate and save a receipt report: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\receipts\receipt__ID_95b29548-8482-48d7-801d-1901fa8bf208_1.xml
2017-05-19 16:34:50.301 [XMLValidator:90] [DEBUG] Schema location for eCH-0090-2-0.xsd: http://www.ech.ch/xmlns/eCH-0090/2 file:/C:/Users/pirklt/Desktop/MessageHandler-SRC/src/distribution/test-classes/eCH-0090-2-0.xsd
2017-05-19 16:34:50.308 [SenderSession:147] [DEBUG] Generate and save a receipt report: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\receipts\receipt__ID_95b29548-8482-48d7-801d-1901fa8bf208_2.xml
2017-05-19 16:34:50.315 [SenderSession:86] [DEBUG] envelope file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\envl_95b29548-8482-48d7-801d-1901fa8bf208.xml successfully removed
2017-05-19 16:34:50.316 [SenderSession:91] [DEBUG] data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip successfully removed
2017-05-19 16:34:50.316 [Sender:88] [DEBUG] sender completed
2017-05-19 16:34:55.014 [StatusCheckerJob:49] [DEBUG] status checker job started
2017-05-19 16:34:55.016 [ReceiverJob:51] [DEBUG] receiver job started
2017-05-19 16:34:55.018 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:34:55.020 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:34:55.023 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:36:13.528 [MessageHandlerService:136] [INFO] stopping the message handler service
2017-05-19 16:40:43.915 [QuartzScheduler:542] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutting down.
2017-05-19 16:40:43.981 [QuartzScheduler:470] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED paused.
2017-05-19 16:40:44.003 [QuartzScheduler:592] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutdown complete.
2017-05-19 16:42:57.202 [StatusCheckerSessionImpl:137] [INFO] message ID 95b29548-8482-48d7-801d-1901fa8bf208: receipt found
2017-05-19 16:42:57.241 [StatusChecker:57] [FATAL] cannot access the internal log DB to get the list of sent messages; status checker stopped
ch.admin.suis.msghandler.log.LogServiceException: java.sql.SQLException: Access is denied: Session is closed Query: SELECT sent_date FROM status WHERE message_id = ? Parameters: [95b29548-8482-48d7-801d-1901fa8bf208]
	at ch.admin.suis.msghandler.log.DbLogService.getSentDate(DbLogService.java:346)
	at ch.admin.suis.msghandler.checker.StatusCheckerSessionImpl.getMessagesIds(StatusCheckerSessionImpl.java:134)
	at ch.admin.suis.msghandler.checker.StatusChecker.execute(StatusChecker.java:55)
	at ch.admin.suis.msghandler.checker.StatusCheckerJob.execute(StatusCheckerJob.java:62)
	at org.quartz.core.JobRunShell.run(JobRunShell.java:202)
	at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:529)
Caused by: java.sql.SQLException: Access is denied: Session is closed Query: SELECT sent_date FROM status WHERE message_id = ? Parameters: [95b29548-8482-48d7-801d-1901fa8bf208]
	at org.apache.commons.dbutils.QueryRunner.rethrow(QueryRunner.java:330)
	at org.apache.commons.dbutils.QueryRunner.query(QueryRunner.java:213)
	at ch.admin.suis.msghandler.log.DbLogService.getSentDate(DbLogService.java:327)
	... 5 more
2017-05-19 16:42:57.242 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:42:57.243 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:42:57.328 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:42:57.329 [MessageCollection:153] [DEBUG] Create message from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox\envl_95b29548-8482-48d7-801d-1901fa8bf208.xml
2017-05-19 16:42:57.376 [MessageCollection:138] [INFO] reading the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip for the message ID 95b29548-8482-48d7-801d-1901fa8bf208
2017-05-19 16:42:57.377 [NativeAppInbox:80] [DEBUG] unpacking message with message_ID=95b29548-8482-48d7-801d-1901fa8bf208
2017-05-19 16:42:57.380 [ZipUtils:96] [DEBUG] cannot make all the necessary directories for the file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\install-dir\workingDir\tmp\receiving\test1.pdf or the path is already created 
2017-05-19 16:42:57.384 [NativeAppInbox:86] [DEBUG] extracted file: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\install-dir\workingDir\tmp\receiving\test1.pdf
2017-05-19 16:42:57.387 [TransparentInbox:55] [INFO] the envelope file envl_95b29548-8482-48d7-801d-1901fa8bf208.xml put transparently into the inbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox
2017-05-19 16:42:57.391 [TransparentInbox:62] [INFO] the data file data_95b29548-8482-48d7-801d-1901fa8bf208.zip put transparently into the inbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox
2017-05-19 16:43:04.136 [MessageHandlerService:73] [INFO] +-------------------------------------+
2017-05-19 16:43:04.139 [MessageHandlerService:74] [INFO] open-egov-msghandler 3.4.0
2017-05-19 16:43:04.140 [MessageHandlerService:75] [INFO] +-------------------------------------+
2017-05-19 16:43:04.140 [MessageHandlerService:77] [INFO] configuring the message handler service from the configuration file ./src/test/resources/complete/mh-multi//install-dir/conf/config.xml
2017-05-19 16:43:05.448 [ClientConfigurationFactory:142] [INFO] Sedex adapter configuration added, 
	participantId: 7-4-1;
	inbox folder: ./src/test/resources/complete/sedex/inbox;
	outbox folder: ./src/test/resources/complete/sedex/outbox;
	receipt folder: ./src/test/resources/complete/sedex/receipts;
	sent folder: ./src/test/resources/complete/sedex/sent;
2017-05-19 16:43:05.449 [ClientConfigurationFactory:553] [INFO] baseDir is: ./src/test/resources/complete/mh-multi/base-path
2017-05-19 16:43:05.449 [ClientConfigurationFactory:536] [INFO] workingDir is: ./src/test/resources/complete/mh-multi/install-dir/workingDir
2017-05-19 16:43:05.450 [ClientConfigurationFactory:151] [WARN] No delayer has been set with the key messageHandler.minimumFileAge.waitFor, which means every file will be sent ASAP instead of waiting for a bit ! This is usually a bad idea for big files as they tend to be slow...
2017-05-19 16:43:05.452 [ClientConfigurationFactory:220] [INFO] Configure the native MH applications...
2017-05-19 16:43:05.458 [Outbox:78] [INFO] Created NativeOutbox: SedexId: 7-4-2, Type: 10003, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:43:05.458 [ClientConfigurationFactory:276] [INFO] participant ID resolver configured, ScriptedNamingService: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\recipientIdResolver.groovy, Method: resolve for outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:43:05.459 [ClientConfigurationFactory:287] [INFO] sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox; type of the outgoing messages: 10003; sedex ID of the sender: 7-4-2;
2017-05-19 16:43:05.460 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-2, Types: {10003}, Mode: NATIVE, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\inbox
2017-05-19 16:43:05.460 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-2, 10003
2017-05-19 16:43:05.460 [ClientConfigurationFactory:384] [INFO] Configure the transparent applications...
2017-05-19 16:43:05.461 [Outbox:95] [INFO] Created TransparentOutbox: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:43:05.461 [ClientConfigurationFactory:405] [INFO] transparent sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox; type of the outgoing messages: [not specified]; sedex ID of the sender: [not specified];
2017-05-19 16:43:05.462 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-3, Types: {10003}, Mode: TRANSPARENT, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox
2017-05-19 16:43:05.462 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-3, 10003
2017-05-19 16:43:05.463 [ReceiptsFolder:64] [INFO] Created ReceiptsFolder: SedexId: 7-4-3, Types: {10003}, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\receipts
2017-05-19 16:43:05.464 [Outbox:95] [INFO] Created TransparentOutbox: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:43:05.464 [ClientConfigurationFactory:405] [INFO] transparent sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox; type of the outgoing messages: [not specified]; sedex ID of the sender: [not specified];
2017-05-19 16:43:05.465 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-4, Types: {10003}, Mode: TRANSPARENT, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\inbox
2017-05-19 16:43:05.465 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-4, 10003
2017-05-19 16:43:05.465 [ReceiptsFolder:64] [INFO] Created ReceiptsFolder: SedexId: 7-4-4, Types: {10003}, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\receipts
2017-05-19 16:43:05.466 [ClientConfigurationFactory:431] [INFO] receiver added, cron expression: 0/5 * * * * ?, inboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\inbox; transparent: NATIVE; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-2;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox; transparent: TRANSPARENT; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-3;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\inbox; transparent: TRANSPARENT; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-4;
2017-05-19 16:43:05.466 [ClientConfigurationFactory:434] [INFO] status checker added, cron expression: 0/5 * * * * ?, folders: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\receipts; types of the checked messages: 10003; sedex ID of the participant: 7-4-3;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\receipts; types of the checked messages: 10003; sedex ID of the participant: 7-4-4;
2017-05-19 16:43:05.468 [ClientConfigurationFactory:489] [INFO] message status database configured, database folder: ./src/test/resources/complete/DB; maxAge: 2; resend: true;
2017-05-19 16:43:05.469 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-2: [10003]
2017-05-19 16:43:05.470 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-3: [10003]
2017-05-19 16:43:05.470 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-4: [10003]
2017-05-19 16:43:05.471 [ClientConfigurationFactory:454] [INFO] protocol writer configured
2017-05-19 16:43:05.472 [ClientConfigurationFactory:464] [INFO] webservice interface configured, host name: localhost; port number: 18'080
2017-05-19 16:43:05.472 [MessageHandler:82] [INFO] initializing the protocol service via Log4j interface
2017-05-19 16:43:05.473 [MessageHandler:86] [INFO] initializing the message status service (DbLog)
2017-05-19 16:43:05.616 [DbLogService:189] [ERROR] java.sql.SQLException: Table not found in statement [DELETE FROM status WHERE (received_date IS NULL AND DATEDIFF('dd', sent_date, CURRENT_TIMESTAMP) > ?) OR DATEDIFF('dd', received_date, CURRENT_TIMESTAMP) > ?] Query: DELETE FROM status WHERE (received_date IS NULL AND DATEDIFF('dd', sent_date, CURRENT_TIMESTAMP) > ?) OR DATEDIFF('dd', received_date, CURRENT_TIMESTAMP) > ? Parameters: [2, 2]
2017-05-19 16:43:05.617 [DbLogService:191] [DEBUG] Creating the status table...
2017-05-19 16:43:05.654 [DbLogService:193] [INFO] The status table is created.
2017-05-19 16:43:05.655 [MessageHandler:97] [INFO] the message status service (DbLog) initialized
2017-05-19 16:43:05.755 [SimpleThreadPool:258] [INFO] Job execution threads will use class loader of thread: main
2017-05-19 16:43:05.767 [QuartzScheduler:209] [INFO] Quartz Scheduler v.1.6.0 created.
2017-05-19 16:43:05.769 [RAMJobStore:141] [INFO] RAMJobStore initialized.
2017-05-19 16:43:05.769 [StdSchedulerFactory:1208] [INFO] Quartz scheduler 'DefaultQuartzScheduler' initialized from default resource file in Quartz package: 'quartz.properties'
2017-05-19 16:43:05.770 [StdSchedulerFactory:1212] [INFO] Quartz scheduler version: 1.6.0
2017-05-19 16:43:05.804 [MessageHandler:210] [INFO] HTTP server started on host localhost  and port 18080
2017-05-19 16:43:05.824 [MessageHandlerService:104] [INFO] SUIS message handler service initialized
2017-05-19 16:43:05.825 [MessageHandlerService:113] [INFO] SUIS message handler service started
2017-05-19 16:43:05.825 [ServiceRunner:60] [INFO] starting the Quartz jobs
2017-05-19 16:43:05.826 [QuartzScheduler:455] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2017-05-19 16:43:05.840 [ServiceRunner:87] [INFO] sender started with name=senderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:43:05.842 [ServiceRunner:110] [INFO] transparent sender started with name=transparentSenderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:43:05.844 [ServiceRunner:110] [INFO] transparent sender started with name=transparentSenderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:43:05.849 [ServiceRunner:121] [INFO] receiver started
2017-05-19 16:43:05.852 [ServiceRunner:130] [INFO] message status checker started
2017-05-19 16:43:05.856 [ServiceRunner:140] [INFO] cleanup job for message status DB started
2017-05-19 16:43:05.857 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:43:05.859 [StatusCheckerJob:49] [DEBUG] status checker job started
2017-05-19 16:43:05.860 [ReceiverJob:51] [DEBUG] receiver job started
2017-05-19 16:43:05.861 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:43:05.861 [SenderSessionImpl:267] [DEBUG] Nothing to sign. No SigningOutbox is defined for: outbox
2017-05-19 16:43:05.861 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:43:05.886 [StatusChecker:93] [DEBUG] checker completed
2017-05-19 16:43:05.889 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:43:05.890 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:43:05.890 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:43:05.890 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:43:05.891 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:43:05.891 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:43:05.891 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:43:05.891 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:43:05.892 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:43:05.892 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:43:05.897 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:43:05.898 [MessageCollection:153] [DEBUG] Create message from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\envl_95b29548-8482-48d7-801d-1901fa8bf208.xml
2017-05-19 16:43:06.092 [MessageCollection:138] [INFO] reading the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip for the message ID 95b29548-8482-48d7-801d-1901fa8bf208
2017-05-19 16:43:06.102 [TransparentSenderSessionImpl:159] [DEBUG] the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip was copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\outbox as .\src\test\resources\complete\sedex\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip
2017-05-19 16:43:06.105 [TransparentSenderSessionImpl:173] [INFO] the data file and envelope for the message ID 95b29548-8482-48d7-801d-1901fa8bf208 copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\outbox
2017-05-19 16:43:06.109 [TransparentSenderSessionImpl:159] [DEBUG] the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip was copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox as .\src\test\resources\complete\sedex\inbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip
2017-05-19 16:43:06.111 [TransparentSenderSessionImpl:173] [INFO] the data file and envelope for the message ID 95b29548-8482-48d7-801d-1901fa8bf208 copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:43:06.140 [XMLValidator:90] [DEBUG] Schema location for eCH-0090-2-0.xsd: http://www.ech.ch/xmlns/eCH-0090/2 file:/C:/Users/pirklt/Desktop/MessageHandler-SRC/src/distribution/test-classes/eCH-0090-2-0.xsd
2017-05-19 16:43:06.152 [SenderSession:147] [DEBUG] Generate and save a receipt report: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\receipts\receipt__ID_95b29548-8482-48d7-801d-1901fa8bf208_1.xml
2017-05-19 16:43:06.159 [XMLValidator:90] [DEBUG] Schema location for eCH-0090-2-0.xsd: http://www.ech.ch/xmlns/eCH-0090/2 file:/C:/Users/pirklt/Desktop/MessageHandler-SRC/src/distribution/test-classes/eCH-0090-2-0.xsd
2017-05-19 16:43:06.167 [SenderSession:147] [DEBUG] Generate and save a receipt report: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\receipts\receipt__ID_95b29548-8482-48d7-801d-1901fa8bf208_2.xml
2017-05-19 16:43:06.174 [SenderSession:86] [DEBUG] envelope file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\envl_95b29548-8482-48d7-801d-1901fa8bf208.xml successfully removed
2017-05-19 16:43:06.176 [SenderSession:91] [DEBUG] data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip successfully removed
2017-05-19 16:43:06.176 [Sender:88] [DEBUG] sender completed
2017-05-19 16:43:10.012 [StatusCheckerJob:49] [DEBUG] status checker job started
2017-05-19 16:43:10.014 [ReceiverJob:51] [DEBUG] receiver job started
2017-05-19 16:43:10.017 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:43:10.019 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:43:10.021 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:44:32.714 [MessageHandlerService:136] [INFO] stopping the message handler service
2017-05-19 16:44:32.717 [QuartzScheduler:542] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutting down.
2017-05-19 16:44:32.717 [QuartzScheduler:470] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED paused.
2017-05-19 16:44:32.716 [StatusCheckerSessionImpl:137] [INFO] message ID 95b29548-8482-48d7-801d-1901fa8bf208: receipt found
2017-05-19 16:44:32.724 [QuartzScheduler:592] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutdown complete.
2017-05-19 16:44:35.272 [MessageHandlerService:73] [INFO] +-------------------------------------+
2017-05-19 16:44:35.275 [MessageHandlerService:74] [INFO] open-egov-msghandler 3.4.0
2017-05-19 16:44:35.275 [MessageHandlerService:75] [INFO] +-------------------------------------+
2017-05-19 16:44:35.276 [MessageHandlerService:77] [INFO] configuring the message handler service from the configuration file ./src/test/resources/complete/mh-multi//install-dir/conf/config.xml
2017-05-19 16:44:35.981 [ClientConfigurationFactory:142] [INFO] Sedex adapter configuration added, 
	participantId: 7-4-1;
	inbox folder: ./src/test/resources/complete/sedex/inbox;
	outbox folder: ./src/test/resources/complete/sedex/outbox;
	receipt folder: ./src/test/resources/complete/sedex/receipts;
	sent folder: ./src/test/resources/complete/sedex/sent;
2017-05-19 16:44:35.982 [ClientConfigurationFactory:553] [INFO] baseDir is: ./src/test/resources/complete/mh-multi/base-path
2017-05-19 16:44:35.983 [ClientConfigurationFactory:536] [INFO] workingDir is: ./src/test/resources/complete/mh-multi/install-dir/workingDir
2017-05-19 16:44:35.983 [ClientConfigurationFactory:151] [WARN] No delayer has been set with the key messageHandler.minimumFileAge.waitFor, which means every file will be sent ASAP instead of waiting for a bit ! This is usually a bad idea for big files as they tend to be slow...
2017-05-19 16:44:35.987 [ClientConfigurationFactory:220] [INFO] Configure the native MH applications...
2017-05-19 16:44:35.993 [Outbox:78] [INFO] Created NativeOutbox: SedexId: 7-4-2, Type: 10003, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:44:35.993 [ClientConfigurationFactory:276] [INFO] participant ID resolver configured, ScriptedNamingService: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\recipientIdResolver.groovy, Method: resolve for outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:44:35.994 [ClientConfigurationFactory:287] [INFO] sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox; type of the outgoing messages: 10003; sedex ID of the sender: 7-4-2;
2017-05-19 16:44:35.995 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-2, Types: {10003}, Mode: NATIVE, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\inbox
2017-05-19 16:44:35.998 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-2, 10003
2017-05-19 16:44:35.999 [ClientConfigurationFactory:384] [INFO] Configure the transparent applications...
2017-05-19 16:44:35.999 [Outbox:95] [INFO] Created TransparentOutbox: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:44:36.000 [ClientConfigurationFactory:405] [INFO] transparent sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox; type of the outgoing messages: [not specified]; sedex ID of the sender: [not specified];
2017-05-19 16:44:36.000 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-3, Types: {10003}, Mode: TRANSPARENT, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox
2017-05-19 16:44:36.001 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-3, 10003
2017-05-19 16:44:36.002 [ReceiptsFolder:64] [INFO] Created ReceiptsFolder: SedexId: 7-4-3, Types: {10003}, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\receipts
2017-05-19 16:44:36.003 [Outbox:95] [INFO] Created TransparentOutbox: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:44:36.003 [ClientConfigurationFactory:405] [INFO] transparent sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox; type of the outgoing messages: [not specified]; sedex ID of the sender: [not specified];
2017-05-19 16:44:36.003 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-4, Types: {10003}, Mode: TRANSPARENT, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\inbox
2017-05-19 16:44:36.004 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-4, 10003
2017-05-19 16:44:36.004 [ReceiptsFolder:64] [INFO] Created ReceiptsFolder: SedexId: 7-4-4, Types: {10003}, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\receipts
2017-05-19 16:44:36.005 [ClientConfigurationFactory:431] [INFO] receiver added, cron expression: 0/5 * * * * ?, inboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\inbox; transparent: NATIVE; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-2;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox; transparent: TRANSPARENT; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-3;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\inbox; transparent: TRANSPARENT; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-4;
2017-05-19 16:44:36.005 [ClientConfigurationFactory:434] [INFO] status checker added, cron expression: 0/5 * * * * ?, folders: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\receipts; types of the checked messages: 10003; sedex ID of the participant: 7-4-3;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\receipts; types of the checked messages: 10003; sedex ID of the participant: 7-4-4;
2017-05-19 16:44:36.007 [ClientConfigurationFactory:489] [INFO] message status database configured, database folder: ./src/test/resources/complete/DB; maxAge: 2; resend: true;
2017-05-19 16:44:36.008 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-2: [10003]
2017-05-19 16:44:36.009 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-3: [10003]
2017-05-19 16:44:36.009 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-4: [10003]
2017-05-19 16:44:36.010 [ClientConfigurationFactory:454] [INFO] protocol writer configured
2017-05-19 16:44:36.011 [ClientConfigurationFactory:464] [INFO] webservice interface configured, host name: localhost; port number: 18'080
2017-05-19 16:44:36.011 [MessageHandler:82] [INFO] initializing the protocol service via Log4j interface
2017-05-19 16:44:36.012 [MessageHandler:86] [INFO] initializing the message status service (DbLog)
2017-05-19 16:44:36.173 [DbLogService:189] [ERROR] java.sql.SQLException: Table not found in statement [DELETE FROM status WHERE (received_date IS NULL AND DATEDIFF('dd', sent_date, CURRENT_TIMESTAMP) > ?) OR DATEDIFF('dd', received_date, CURRENT_TIMESTAMP) > ?] Query: DELETE FROM status WHERE (received_date IS NULL AND DATEDIFF('dd', sent_date, CURRENT_TIMESTAMP) > ?) OR DATEDIFF('dd', received_date, CURRENT_TIMESTAMP) > ? Parameters: [2, 2]
2017-05-19 16:44:36.174 [DbLogService:191] [DEBUG] Creating the status table...
2017-05-19 16:44:36.226 [DbLogService:193] [INFO] The status table is created.
2017-05-19 16:44:36.226 [MessageHandler:97] [INFO] the message status service (DbLog) initialized
2017-05-19 16:44:36.340 [SimpleThreadPool:258] [INFO] Job execution threads will use class loader of thread: main
2017-05-19 16:44:36.361 [QuartzScheduler:209] [INFO] Quartz Scheduler v.1.6.0 created.
2017-05-19 16:44:36.363 [RAMJobStore:141] [INFO] RAMJobStore initialized.
2017-05-19 16:44:36.364 [StdSchedulerFactory:1208] [INFO] Quartz scheduler 'DefaultQuartzScheduler' initialized from default resource file in Quartz package: 'quartz.properties'
2017-05-19 16:44:36.364 [StdSchedulerFactory:1212] [INFO] Quartz scheduler version: 1.6.0
2017-05-19 16:44:36.518 [MessageHandler:210] [INFO] HTTP server started on host localhost  and port 18080
2017-05-19 16:44:36.518 [MessageHandlerService:104] [INFO] SUIS message handler service initialized
2017-05-19 16:44:36.528 [MessageHandlerService:113] [INFO] SUIS message handler service started
2017-05-19 16:44:36.529 [ServiceRunner:60] [INFO] starting the Quartz jobs
2017-05-19 16:44:36.529 [QuartzScheduler:455] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2017-05-19 16:44:36.543 [ServiceRunner:87] [INFO] sender started with name=senderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:44:36.546 [ServiceRunner:110] [INFO] transparent sender started with name=transparentSenderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:44:36.548 [ServiceRunner:110] [INFO] transparent sender started with name=transparentSenderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:44:36.550 [ServiceRunner:121] [INFO] receiver started
2017-05-19 16:44:36.553 [ServiceRunner:130] [INFO] message status checker started
2017-05-19 16:44:36.557 [ServiceRunner:140] [INFO] cleanup job for message status DB started
2017-05-19 16:44:40.036 [StatusCheckerJob:49] [DEBUG] status checker job started
2017-05-19 16:44:40.040 [ReceiverJob:51] [DEBUG] receiver job started
2017-05-19 16:44:40.048 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:44:40.050 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:44:40.051 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:44:40.082 [StatusChecker:93] [DEBUG] checker completed
2017-05-19 16:44:40.086 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:44:40.086 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:44:40.086 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:44:40.087 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:44:40.090 [SenderSessionImpl:267] [DEBUG] Nothing to sign. No SigningOutbox is defined for: outbox
2017-05-19 16:44:40.090 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:44:40.091 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:44:40.091 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:44:40.091 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:44:40.091 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:44:40.092 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:44:40.092 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:44:40.093 [MessageCollection:153] [DEBUG] Create message from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\envl_95b29548-8482-48d7-801d-1901fa8bf208.xml
2017-05-19 16:44:40.271 [MessageCollection:138] [INFO] reading the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip for the message ID 95b29548-8482-48d7-801d-1901fa8bf208
2017-05-19 16:44:40.282 [TransparentSenderSessionImpl:159] [DEBUG] the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip was copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\outbox as .\src\test\resources\complete\sedex\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip
2017-05-19 16:44:40.285 [TransparentSenderSessionImpl:173] [INFO] the data file and envelope for the message ID 95b29548-8482-48d7-801d-1901fa8bf208 copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\outbox
2017-05-19 16:44:40.288 [TransparentSenderSessionImpl:159] [DEBUG] the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip was copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox as .\src\test\resources\complete\sedex\inbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip
2017-05-19 16:44:40.291 [TransparentSenderSessionImpl:173] [INFO] the data file and envelope for the message ID 95b29548-8482-48d7-801d-1901fa8bf208 copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:44:40.324 [XMLValidator:90] [DEBUG] Schema location for eCH-0090-2-0.xsd: http://www.ech.ch/xmlns/eCH-0090/2 file:/C:/Users/pirklt/Desktop/MessageHandler-SRC/src/distribution/test-classes/eCH-0090-2-0.xsd
2017-05-19 16:44:40.336 [SenderSession:147] [DEBUG] Generate and save a receipt report: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\receipts\receipt__ID_95b29548-8482-48d7-801d-1901fa8bf208_1.xml
2017-05-19 16:44:40.344 [XMLValidator:90] [DEBUG] Schema location for eCH-0090-2-0.xsd: http://www.ech.ch/xmlns/eCH-0090/2 file:/C:/Users/pirklt/Desktop/MessageHandler-SRC/src/distribution/test-classes/eCH-0090-2-0.xsd
2017-05-19 16:44:40.352 [SenderSession:147] [DEBUG] Generate and save a receipt report: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\receipts\receipt__ID_95b29548-8482-48d7-801d-1901fa8bf208_2.xml
2017-05-19 16:44:40.359 [SenderSession:86] [DEBUG] envelope file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\envl_95b29548-8482-48d7-801d-1901fa8bf208.xml successfully removed
2017-05-19 16:44:40.359 [SenderSession:91] [DEBUG] data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip successfully removed
2017-05-19 16:44:40.360 [Sender:88] [DEBUG] sender completed
2017-05-19 16:44:45.015 [StatusCheckerJob:49] [DEBUG] status checker job started
2017-05-19 16:44:45.017 [ReceiverJob:51] [DEBUG] receiver job started
2017-05-19 16:44:45.019 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:44:45.021 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:44:45.023 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:45:03.552 [MessageHandlerService:136] [INFO] stopping the message handler service
2017-05-19 16:45:41.000 [QuartzScheduler:542] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutting down.
2017-05-19 16:45:41.000 [QuartzScheduler:470] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED paused.
2017-05-19 16:45:41.001 [QuartzScheduler:592] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutdown complete.
2017-05-19 16:45:53.450 [StatusCheckerSessionImpl:137] [INFO] message ID 95b29548-8482-48d7-801d-1901fa8bf208: receipt found
2017-05-19 16:45:53.472 [StatusChecker:57] [FATAL] cannot access the internal log DB to get the list of sent messages; status checker stopped
ch.admin.suis.msghandler.log.LogServiceException: java.sql.SQLException: Access is denied: Session is closed Query: SELECT sent_date FROM status WHERE message_id = ? Parameters: [95b29548-8482-48d7-801d-1901fa8bf208]
	at ch.admin.suis.msghandler.log.DbLogService.getSentDate(DbLogService.java:346)
	at ch.admin.suis.msghandler.checker.StatusCheckerSessionImpl.getMessagesIds(StatusCheckerSessionImpl.java:134)
	at ch.admin.suis.msghandler.checker.StatusChecker.execute(StatusChecker.java:55)
	at ch.admin.suis.msghandler.checker.StatusCheckerJob.execute(StatusCheckerJob.java:62)
	at org.quartz.core.JobRunShell.run(JobRunShell.java:202)
	at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:529)
Caused by: java.sql.SQLException: Access is denied: Session is closed Query: SELECT sent_date FROM status WHERE message_id = ? Parameters: [95b29548-8482-48d7-801d-1901fa8bf208]
	at org.apache.commons.dbutils.QueryRunner.rethrow(QueryRunner.java:330)
	at org.apache.commons.dbutils.QueryRunner.query(QueryRunner.java:213)
	at ch.admin.suis.msghandler.log.DbLogService.getSentDate(DbLogService.java:327)
	... 5 more
2017-05-19 16:45:53.558 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:45:53.558 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:45:53.560 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:45:53.561 [MessageCollection:153] [DEBUG] Create message from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox\envl_95b29548-8482-48d7-801d-1901fa8bf208.xml
2017-05-19 16:46:37.903 [MessageHandlerService:73] [INFO] +-------------------------------------+
2017-05-19 16:46:37.906 [MessageHandlerService:74] [INFO] open-egov-msghandler 3.4.0
2017-05-19 16:46:37.906 [MessageHandlerService:75] [INFO] +-------------------------------------+
2017-05-19 16:46:37.906 [MessageHandlerService:77] [INFO] configuring the message handler service from the configuration file ./src/test/resources/complete/mh-multi//install-dir/conf/config.xml
2017-05-19 16:46:38.752 [ClientConfigurationFactory:142] [INFO] Sedex adapter configuration added, 
	participantId: 7-4-1;
	inbox folder: ./src/test/resources/complete/sedex/inbox;
	outbox folder: ./src/test/resources/complete/sedex/outbox;
	receipt folder: ./src/test/resources/complete/sedex/receipts;
	sent folder: ./src/test/resources/complete/sedex/sent;
2017-05-19 16:46:38.753 [ClientConfigurationFactory:553] [INFO] baseDir is: ./src/test/resources/complete/mh-multi/base-path
2017-05-19 16:46:38.754 [ClientConfigurationFactory:536] [INFO] workingDir is: ./src/test/resources/complete/mh-multi/install-dir/workingDir
2017-05-19 16:46:38.754 [ClientConfigurationFactory:151] [WARN] No delayer has been set with the key messageHandler.minimumFileAge.waitFor, which means every file will be sent ASAP instead of waiting for a bit ! This is usually a bad idea for big files as they tend to be slow...
2017-05-19 16:46:38.757 [ClientConfigurationFactory:220] [INFO] Configure the native MH applications...
2017-05-19 16:46:38.763 [Outbox:78] [INFO] Created NativeOutbox: SedexId: 7-4-2, Type: 10003, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:46:38.764 [ClientConfigurationFactory:276] [INFO] participant ID resolver configured, ScriptedNamingService: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\recipientIdResolver.groovy, Method: resolve for outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:46:38.764 [ClientConfigurationFactory:287] [INFO] sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox; type of the outgoing messages: 10003; sedex ID of the sender: 7-4-2;
2017-05-19 16:46:38.766 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-2, Types: {10003}, Mode: NATIVE, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\inbox
2017-05-19 16:46:38.766 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-2, 10003
2017-05-19 16:46:38.766 [ClientConfigurationFactory:384] [INFO] Configure the transparent applications...
2017-05-19 16:46:38.767 [Outbox:95] [INFO] Created TransparentOutbox: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:46:38.767 [ClientConfigurationFactory:405] [INFO] transparent sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox; type of the outgoing messages: [not specified]; sedex ID of the sender: [not specified];
2017-05-19 16:46:38.768 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-3, Types: {10003}, Mode: TRANSPARENT, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox
2017-05-19 16:46:38.768 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-3, 10003
2017-05-19 16:46:38.769 [ReceiptsFolder:64] [INFO] Created ReceiptsFolder: SedexId: 7-4-3, Types: {10003}, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\receipts
2017-05-19 16:46:38.770 [Outbox:95] [INFO] Created TransparentOutbox: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:46:38.770 [ClientConfigurationFactory:405] [INFO] transparent sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox; type of the outgoing messages: [not specified]; sedex ID of the sender: [not specified];
2017-05-19 16:46:38.771 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-4, Types: {10003}, Mode: TRANSPARENT, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\inbox
2017-05-19 16:46:38.771 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-4, 10003
2017-05-19 16:46:38.771 [ReceiptsFolder:64] [INFO] Created ReceiptsFolder: SedexId: 7-4-4, Types: {10003}, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\receipts
2017-05-19 16:46:38.772 [ClientConfigurationFactory:431] [INFO] receiver added, cron expression: 0/5 * * * * ?, inboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\inbox; transparent: NATIVE; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-2;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox; transparent: TRANSPARENT; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-3;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\inbox; transparent: TRANSPARENT; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-4;
2017-05-19 16:46:38.772 [ClientConfigurationFactory:434] [INFO] status checker added, cron expression: 0/5 * * * * ?, folders: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\receipts; types of the checked messages: 10003; sedex ID of the participant: 7-4-3;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\receipts; types of the checked messages: 10003; sedex ID of the participant: 7-4-4;
2017-05-19 16:46:38.774 [ClientConfigurationFactory:489] [INFO] message status database configured, database folder: ./src/test/resources/complete/DB; maxAge: 2; resend: true;
2017-05-19 16:46:38.775 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-2: [10003]
2017-05-19 16:46:38.776 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-3: [10003]
2017-05-19 16:46:38.776 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-4: [10003]
2017-05-19 16:46:38.777 [ClientConfigurationFactory:454] [INFO] protocol writer configured
2017-05-19 16:46:38.778 [ClientConfigurationFactory:464] [INFO] webservice interface configured, host name: localhost; port number: 18'080
2017-05-19 16:46:38.778 [MessageHandler:82] [INFO] initializing the protocol service via Log4j interface
2017-05-19 16:46:38.779 [MessageHandler:86] [INFO] initializing the message status service (DbLog)
2017-05-19 16:46:38.919 [DbLogService:189] [ERROR] java.sql.SQLException: Table not found in statement [DELETE FROM status WHERE (received_date IS NULL AND DATEDIFF('dd', sent_date, CURRENT_TIMESTAMP) > ?) OR DATEDIFF('dd', received_date, CURRENT_TIMESTAMP) > ?] Query: DELETE FROM status WHERE (received_date IS NULL AND DATEDIFF('dd', sent_date, CURRENT_TIMESTAMP) > ?) OR DATEDIFF('dd', received_date, CURRENT_TIMESTAMP) > ? Parameters: [2, 2]
2017-05-19 16:46:38.920 [DbLogService:191] [DEBUG] Creating the status table...
2017-05-19 16:46:38.964 [DbLogService:193] [INFO] The status table is created.
2017-05-19 16:46:38.966 [MessageHandler:97] [INFO] the message status service (DbLog) initialized
2017-05-19 16:46:39.190 [SimpleThreadPool:258] [INFO] Job execution threads will use class loader of thread: main
2017-05-19 16:46:39.223 [QuartzScheduler:209] [INFO] Quartz Scheduler v.1.6.0 created.
2017-05-19 16:46:39.225 [RAMJobStore:141] [INFO] RAMJobStore initialized.
2017-05-19 16:46:39.225 [StdSchedulerFactory:1208] [INFO] Quartz scheduler 'DefaultQuartzScheduler' initialized from default resource file in Quartz package: 'quartz.properties'
2017-05-19 16:46:39.225 [StdSchedulerFactory:1212] [INFO] Quartz scheduler version: 1.6.0
2017-05-19 16:46:39.285 [MessageHandler:210] [INFO] HTTP server started on host localhost  and port 18080
2017-05-19 16:46:39.286 [MessageHandlerService:104] [INFO] SUIS message handler service initialized
2017-05-19 16:46:39.298 [MessageHandlerService:113] [INFO] SUIS message handler service started
2017-05-19 16:46:39.301 [ServiceRunner:60] [INFO] starting the Quartz jobs
2017-05-19 16:46:39.301 [QuartzScheduler:455] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2017-05-19 16:46:39.321 [ServiceRunner:87] [INFO] sender started with name=senderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:46:39.324 [ServiceRunner:110] [INFO] transparent sender started with name=transparentSenderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:46:39.325 [ServiceRunner:110] [INFO] transparent sender started with name=transparentSenderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:46:39.328 [ServiceRunner:121] [INFO] receiver started
2017-05-19 16:46:39.331 [ServiceRunner:130] [INFO] message status checker started
2017-05-19 16:46:39.335 [ServiceRunner:140] [INFO] cleanup job for message status DB started
2017-05-19 16:46:40.034 [StatusCheckerJob:49] [DEBUG] status checker job started
2017-05-19 16:46:40.037 [ReceiverJob:51] [DEBUG] receiver job started
2017-05-19 16:46:40.047 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:46:40.049 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:46:40.050 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:46:40.082 [StatusChecker:93] [DEBUG] checker completed
2017-05-19 16:46:40.086 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:46:40.086 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:46:40.086 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:46:40.087 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:46:40.090 [SenderSessionImpl:267] [DEBUG] Nothing to sign. No SigningOutbox is defined for: outbox
2017-05-19 16:46:40.090 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:46:40.090 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:46:40.091 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:46:40.091 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:46:40.091 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:46:40.091 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:46:40.096 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:46:40.097 [MessageCollection:153] [DEBUG] Create message from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\envl_95b29548-8482-48d7-801d-1901fa8bf208.xml
2017-05-19 16:46:40.274 [MessageCollection:138] [INFO] reading the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip for the message ID 95b29548-8482-48d7-801d-1901fa8bf208
2017-05-19 16:46:40.283 [TransparentSenderSessionImpl:159] [DEBUG] the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip was copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\outbox as .\src\test\resources\complete\sedex\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip
2017-05-19 16:46:40.285 [TransparentSenderSessionImpl:173] [INFO] the data file and envelope for the message ID 95b29548-8482-48d7-801d-1901fa8bf208 copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\outbox
2017-05-19 16:46:40.289 [TransparentSenderSessionImpl:159] [DEBUG] the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip was copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox as .\src\test\resources\complete\sedex\inbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip
2017-05-19 16:46:40.291 [TransparentSenderSessionImpl:173] [INFO] the data file and envelope for the message ID 95b29548-8482-48d7-801d-1901fa8bf208 copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:46:40.317 [XMLValidator:90] [DEBUG] Schema location for eCH-0090-2-0.xsd: http://www.ech.ch/xmlns/eCH-0090/2 file:/C:/Users/pirklt/Desktop/MessageHandler-SRC/src/distribution/test-classes/eCH-0090-2-0.xsd
2017-05-19 16:46:40.328 [SenderSession:147] [DEBUG] Generate and save a receipt report: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\receipts\receipt__ID_95b29548-8482-48d7-801d-1901fa8bf208_1.xml
2017-05-19 16:46:40.334 [XMLValidator:90] [DEBUG] Schema location for eCH-0090-2-0.xsd: http://www.ech.ch/xmlns/eCH-0090/2 file:/C:/Users/pirklt/Desktop/MessageHandler-SRC/src/distribution/test-classes/eCH-0090-2-0.xsd
2017-05-19 16:46:40.342 [SenderSession:147] [DEBUG] Generate and save a receipt report: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\receipts\receipt__ID_95b29548-8482-48d7-801d-1901fa8bf208_2.xml
2017-05-19 16:46:40.349 [SenderSession:86] [DEBUG] envelope file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\envl_95b29548-8482-48d7-801d-1901fa8bf208.xml successfully removed
2017-05-19 16:46:40.350 [SenderSession:91] [DEBUG] data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip successfully removed
2017-05-19 16:46:40.350 [Sender:88] [DEBUG] sender completed
2017-05-19 16:46:45.014 [StatusCheckerJob:49] [DEBUG] status checker job started
2017-05-19 16:46:45.016 [ReceiverJob:51] [DEBUG] receiver job started
2017-05-19 16:46:45.018 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:46:45.020 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:46:45.022 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:47:34.587 [MessageHandlerService:136] [INFO] stopping the message handler service
2017-05-19 16:47:34.589 [StatusCheckerSessionImpl:137] [INFO] message ID 95b29548-8482-48d7-801d-1901fa8bf208: receipt found
2017-05-19 16:47:34.589 [QuartzScheduler:542] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutting down.
2017-05-19 16:47:34.591 [QuartzScheduler:470] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED paused.
2017-05-19 16:47:34.597 [QuartzScheduler:592] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutdown complete.
2017-05-19 16:47:34.614 [StatusChecker:57] [FATAL] cannot access the internal log DB to get the list of sent messages; status checker stopped
ch.admin.suis.msghandler.log.LogServiceException: java.sql.SQLException: Access is denied: Session is closed Query: SELECT sent_date FROM status WHERE message_id = ? Parameters: [95b29548-8482-48d7-801d-1901fa8bf208]
	at ch.admin.suis.msghandler.log.DbLogService.getSentDate(DbLogService.java:346)
	at ch.admin.suis.msghandler.checker.StatusCheckerSessionImpl.getMessagesIds(StatusCheckerSessionImpl.java:134)
	at ch.admin.suis.msghandler.checker.StatusChecker.execute(StatusChecker.java:55)
	at ch.admin.suis.msghandler.checker.StatusCheckerJob.execute(StatusCheckerJob.java:62)
	at org.quartz.core.JobRunShell.run(JobRunShell.java:202)
	at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:529)
Caused by: java.sql.SQLException: Access is denied: Session is closed Query: SELECT sent_date FROM status WHERE message_id = ? Parameters: [95b29548-8482-48d7-801d-1901fa8bf208]
	at org.apache.commons.dbutils.QueryRunner.rethrow(QueryRunner.java:330)
	at org.apache.commons.dbutils.QueryRunner.query(QueryRunner.java:213)
	at ch.admin.suis.msghandler.log.DbLogService.getSentDate(DbLogService.java:327)
	... 5 more
2017-05-19 16:47:34.620 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:47:34.620 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:47:34.621 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:47:34.622 [MessageCollection:153] [DEBUG] Create message from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox\envl_95b29548-8482-48d7-801d-1901fa8bf208.xml
2017-05-19 16:47:34.747 [MessageCollection:138] [INFO] reading the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip for the message ID 95b29548-8482-48d7-801d-1901fa8bf208
2017-05-19 16:47:34.747 [NativeAppInbox:80] [DEBUG] unpacking message with message_ID=95b29548-8482-48d7-801d-1901fa8bf208
2017-05-19 16:47:34.750 [ZipUtils:96] [DEBUG] cannot make all the necessary directories for the file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\install-dir\workingDir\tmp\receiving\test1.pdf or the path is already created 
2017-05-19 16:47:34.754 [NativeAppInbox:86] [DEBUG] extracted file: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\install-dir\workingDir\tmp\receiving\test1.pdf
2017-05-19 16:47:34.757 [TransparentInbox:55] [INFO] the envelope file envl_95b29548-8482-48d7-801d-1901fa8bf208.xml put transparently into the inbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox
2017-05-19 16:47:34.760 [TransparentInbox:62] [INFO] the data file data_95b29548-8482-48d7-801d-1901fa8bf208.zip put transparently into the inbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox
2017-05-19 16:47:36.835 [MessageHandlerService:73] [INFO] +-------------------------------------+
2017-05-19 16:47:36.838 [MessageHandlerService:74] [INFO] open-egov-msghandler 3.4.0
2017-05-19 16:47:36.838 [MessageHandlerService:75] [INFO] +-------------------------------------+
2017-05-19 16:47:36.839 [MessageHandlerService:77] [INFO] configuring the message handler service from the configuration file ./src/test/resources/complete/mh-multi//install-dir/conf/config.xml
2017-05-19 16:47:37.701 [ClientConfigurationFactory:142] [INFO] Sedex adapter configuration added, 
	participantId: 7-4-1;
	inbox folder: ./src/test/resources/complete/sedex/inbox;
	outbox folder: ./src/test/resources/complete/sedex/outbox;
	receipt folder: ./src/test/resources/complete/sedex/receipts;
	sent folder: ./src/test/resources/complete/sedex/sent;
2017-05-19 16:47:37.701 [ClientConfigurationFactory:553] [INFO] baseDir is: ./src/test/resources/complete/mh-multi/base-path
2017-05-19 16:47:37.702 [ClientConfigurationFactory:536] [INFO] workingDir is: ./src/test/resources/complete/mh-multi/install-dir/workingDir
2017-05-19 16:47:37.702 [ClientConfigurationFactory:151] [WARN] No delayer has been set with the key messageHandler.minimumFileAge.waitFor, which means every file will be sent ASAP instead of waiting for a bit ! This is usually a bad idea for big files as they tend to be slow...
2017-05-19 16:47:37.705 [ClientConfigurationFactory:220] [INFO] Configure the native MH applications...
2017-05-19 16:47:37.712 [Outbox:78] [INFO] Created NativeOutbox: SedexId: 7-4-2, Type: 10003, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:47:37.712 [ClientConfigurationFactory:276] [INFO] participant ID resolver configured, ScriptedNamingService: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\recipientIdResolver.groovy, Method: resolve for outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:47:37.712 [ClientConfigurationFactory:287] [INFO] sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox; type of the outgoing messages: 10003; sedex ID of the sender: 7-4-2;
2017-05-19 16:47:37.714 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-2, Types: {10003}, Mode: NATIVE, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\inbox
2017-05-19 16:47:37.714 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-2, 10003
2017-05-19 16:47:37.714 [ClientConfigurationFactory:384] [INFO] Configure the transparent applications...
2017-05-19 16:47:37.715 [Outbox:95] [INFO] Created TransparentOutbox: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:47:37.715 [ClientConfigurationFactory:405] [INFO] transparent sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox; type of the outgoing messages: [not specified]; sedex ID of the sender: [not specified];
2017-05-19 16:47:37.716 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-3, Types: {10003}, Mode: TRANSPARENT, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox
2017-05-19 16:47:37.716 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-3, 10003
2017-05-19 16:47:37.717 [ReceiptsFolder:64] [INFO] Created ReceiptsFolder: SedexId: 7-4-3, Types: {10003}, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\receipts
2017-05-19 16:47:37.717 [Outbox:95] [INFO] Created TransparentOutbox: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:47:37.718 [ClientConfigurationFactory:405] [INFO] transparent sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox; type of the outgoing messages: [not specified]; sedex ID of the sender: [not specified];
2017-05-19 16:47:37.718 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-4, Types: {10003}, Mode: TRANSPARENT, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\inbox
2017-05-19 16:47:37.718 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-4, 10003
2017-05-19 16:47:37.719 [ReceiptsFolder:64] [INFO] Created ReceiptsFolder: SedexId: 7-4-4, Types: {10003}, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\receipts
2017-05-19 16:47:37.719 [ClientConfigurationFactory:431] [INFO] receiver added, cron expression: 0/5 * * * * ?, inboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\inbox; transparent: NATIVE; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-2;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox; transparent: TRANSPARENT; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-3;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\inbox; transparent: TRANSPARENT; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-4;
2017-05-19 16:47:37.720 [ClientConfigurationFactory:434] [INFO] status checker added, cron expression: 0/5 * * * * ?, folders: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\receipts; types of the checked messages: 10003; sedex ID of the participant: 7-4-3;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\receipts; types of the checked messages: 10003; sedex ID of the participant: 7-4-4;
2017-05-19 16:47:37.721 [ClientConfigurationFactory:489] [INFO] message status database configured, database folder: ./src/test/resources/complete/DB; maxAge: 2; resend: true;
2017-05-19 16:47:37.723 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-2: [10003]
2017-05-19 16:47:37.723 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-3: [10003]
2017-05-19 16:47:37.724 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-4: [10003]
2017-05-19 16:47:37.725 [ClientConfigurationFactory:454] [INFO] protocol writer configured
2017-05-19 16:47:37.725 [ClientConfigurationFactory:464] [INFO] webservice interface configured, host name: localhost; port number: 18'080
2017-05-19 16:47:37.725 [MessageHandler:82] [INFO] initializing the protocol service via Log4j interface
2017-05-19 16:47:37.727 [MessageHandler:86] [INFO] initializing the message status service (DbLog)
2017-05-19 16:47:37.953 [DbLogService:189] [ERROR] java.sql.SQLException: Table not found in statement [DELETE FROM status WHERE (received_date IS NULL AND DATEDIFF('dd', sent_date, CURRENT_TIMESTAMP) > ?) OR DATEDIFF('dd', received_date, CURRENT_TIMESTAMP) > ?] Query: DELETE FROM status WHERE (received_date IS NULL AND DATEDIFF('dd', sent_date, CURRENT_TIMESTAMP) > ?) OR DATEDIFF('dd', received_date, CURRENT_TIMESTAMP) > ? Parameters: [2, 2]
2017-05-19 16:47:37.953 [DbLogService:191] [DEBUG] Creating the status table...
2017-05-19 16:47:38.014 [DbLogService:193] [INFO] The status table is created.
2017-05-19 16:47:38.014 [MessageHandler:97] [INFO] the message status service (DbLog) initialized
2017-05-19 16:47:38.152 [SimpleThreadPool:258] [INFO] Job execution threads will use class loader of thread: main
2017-05-19 16:47:38.167 [QuartzScheduler:209] [INFO] Quartz Scheduler v.1.6.0 created.
2017-05-19 16:47:38.171 [RAMJobStore:141] [INFO] RAMJobStore initialized.
2017-05-19 16:47:38.171 [StdSchedulerFactory:1208] [INFO] Quartz scheduler 'DefaultQuartzScheduler' initialized from default resource file in Quartz package: 'quartz.properties'
2017-05-19 16:47:38.171 [StdSchedulerFactory:1212] [INFO] Quartz scheduler version: 1.6.0
2017-05-19 16:47:38.215 [MessageHandler:210] [INFO] HTTP server started on host localhost  and port 18080
2017-05-19 16:47:38.216 [MessageHandlerService:104] [INFO] SUIS message handler service initialized
2017-05-19 16:47:38.216 [MessageHandlerService:113] [INFO] SUIS message handler service started
2017-05-19 16:47:38.228 [ServiceRunner:60] [INFO] starting the Quartz jobs
2017-05-19 16:47:38.228 [QuartzScheduler:455] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2017-05-19 16:47:38.248 [ServiceRunner:87] [INFO] sender started with name=senderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:47:38.250 [ServiceRunner:110] [INFO] transparent sender started with name=transparentSenderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:47:38.252 [ServiceRunner:110] [INFO] transparent sender started with name=transparentSenderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:47:38.254 [ServiceRunner:121] [INFO] receiver started
2017-05-19 16:47:38.257 [ServiceRunner:130] [INFO] message status checker started
2017-05-19 16:47:38.261 [ServiceRunner:140] [INFO] cleanup job for message status DB started
2017-05-19 16:47:40.025 [StatusCheckerJob:49] [DEBUG] status checker job started
2017-05-19 16:47:40.026 [ReceiverJob:51] [DEBUG] receiver job started
2017-05-19 16:47:40.030 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:47:40.031 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:47:40.031 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:47:40.045 [StatusChecker:93] [DEBUG] checker completed
2017-05-19 16:47:40.048 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:47:40.048 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:47:40.048 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:47:40.049 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:47:40.052 [SenderSessionImpl:267] [DEBUG] Nothing to sign. No SigningOutbox is defined for: outbox
2017-05-19 16:47:40.052 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:47:40.052 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:47:40.053 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:47:40.053 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:47:40.053 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:47:40.053 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:47:40.058 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:47:40.059 [MessageCollection:153] [DEBUG] Create message from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\envl_95b29548-8482-48d7-801d-1901fa8bf208.xml
2017-05-19 16:47:40.238 [MessageCollection:138] [INFO] reading the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip for the message ID 95b29548-8482-48d7-801d-1901fa8bf208
2017-05-19 16:47:40.248 [TransparentSenderSessionImpl:159] [DEBUG] the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip was copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\outbox as .\src\test\resources\complete\sedex\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip
2017-05-19 16:47:40.250 [TransparentSenderSessionImpl:173] [INFO] the data file and envelope for the message ID 95b29548-8482-48d7-801d-1901fa8bf208 copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\outbox
2017-05-19 16:47:40.254 [TransparentSenderSessionImpl:159] [DEBUG] the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip was copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox as .\src\test\resources\complete\sedex\inbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip
2017-05-19 16:47:40.256 [TransparentSenderSessionImpl:173] [INFO] the data file and envelope for the message ID 95b29548-8482-48d7-801d-1901fa8bf208 copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:47:40.280 [XMLValidator:90] [DEBUG] Schema location for eCH-0090-2-0.xsd: http://www.ech.ch/xmlns/eCH-0090/2 file:/C:/Users/pirklt/Desktop/MessageHandler-SRC/src/distribution/test-classes/eCH-0090-2-0.xsd
2017-05-19 16:47:40.291 [SenderSession:147] [DEBUG] Generate and save a receipt report: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\receipts\receipt__ID_95b29548-8482-48d7-801d-1901fa8bf208_1.xml
2017-05-19 16:47:40.297 [XMLValidator:90] [DEBUG] Schema location for eCH-0090-2-0.xsd: http://www.ech.ch/xmlns/eCH-0090/2 file:/C:/Users/pirklt/Desktop/MessageHandler-SRC/src/distribution/test-classes/eCH-0090-2-0.xsd
2017-05-19 16:47:40.305 [SenderSession:147] [DEBUG] Generate and save a receipt report: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\receipts\receipt__ID_95b29548-8482-48d7-801d-1901fa8bf208_2.xml
2017-05-19 16:47:40.312 [SenderSession:86] [DEBUG] envelope file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\envl_95b29548-8482-48d7-801d-1901fa8bf208.xml successfully removed
2017-05-19 16:47:40.312 [SenderSession:91] [DEBUG] data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip successfully removed
2017-05-19 16:47:40.313 [Sender:88] [DEBUG] sender completed
2017-05-19 16:47:45.019 [StatusCheckerJob:49] [DEBUG] status checker job started
2017-05-19 16:47:45.020 [ReceiverJob:51] [DEBUG] receiver job started
2017-05-19 16:47:45.021 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:47:45.022 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:47:45.023 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:47:45.031 [StatusCheckerSessionImpl:137] [INFO] message ID 95b29548-8482-48d7-801d-1901fa8bf208: receipt found
2017-05-19 16:47:45.038 [StatusCheckerSessionImpl:137] [INFO] message ID 95b29548-8482-48d7-801d-1901fa8bf208: receipt found
2017-05-19 16:47:45.039 [StatusCheckerSessionImpl:327] [INFO] message ID 95b29548-8482-48d7-801d-1901fa8bf208: the message has been delivered by the Sedex adapter, status Message successfully transmitted
2017-05-19 16:47:45.044 [StatusCheckerSessionImpl:530] [INFO] the envelope file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\receipts\receipt__ID_95b29548-8482-48d7-801d-1901fa8bf208_1.xml successfully copied to the external directory C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\receipts
2017-05-19 16:47:45.045 [StatusCheckerSessionImpl:543] [DEBUG] original envelope file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\receipts\receipt__ID_95b29548-8482-48d7-801d-1901fa8bf208_1.xml successfully removed
2017-05-19 16:47:45.045 [StatusCheckerSessionImpl:327] [INFO] message ID 95b29548-8482-48d7-801d-1901fa8bf208: the message has been delivered by the Sedex adapter, status Message successfully transmitted
2017-05-19 16:47:45.050 [StatusCheckerSessionImpl:530] [INFO] the envelope file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\receipts\receipt__ID_95b29548-8482-48d7-801d-1901fa8bf208_2.xml successfully copied to the external directory C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\receipts
2017-05-19 16:47:45.051 [StatusCheckerSessionImpl:543] [DEBUG] original envelope file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\receipts\receipt__ID_95b29548-8482-48d7-801d-1901fa8bf208_2.xml successfully removed
2017-05-19 16:47:45.051 [StatusChecker:93] [DEBUG] checker completed
2017-05-19 16:47:45.051 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:47:45.052 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:47:45.052 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:47:45.053 [MessageCollection:153] [DEBUG] Create message from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox\envl_95b29548-8482-48d7-801d-1901fa8bf208.xml
2017-05-19 16:47:45.067 [MessageCollection:138] [INFO] reading the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip for the message ID 95b29548-8482-48d7-801d-1901fa8bf208
2017-05-19 16:47:45.068 [NativeAppInbox:80] [DEBUG] unpacking message with message_ID=95b29548-8482-48d7-801d-1901fa8bf208
2017-05-19 16:47:45.071 [ZipUtils:96] [DEBUG] cannot make all the necessary directories for the file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\install-dir\workingDir\tmp\receiving\test1.pdf or the path is already created 
2017-05-19 16:47:45.075 [NativeAppInbox:86] [DEBUG] extracted file: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\install-dir\workingDir\tmp\receiving\test1.pdf
2017-05-19 16:47:45.078 [TransparentInbox:55] [INFO] the envelope file envl_95b29548-8482-48d7-801d-1901fa8bf208.xml put transparently into the inbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox
2017-05-19 16:47:45.081 [TransparentInbox:62] [INFO] the data file data_95b29548-8482-48d7-801d-1901fa8bf208.zip put transparently into the inbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox
2017-05-19 16:47:45.090 [NativeAppInbox:63] [INFO] file test1.pdf received and put into the inbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\inbox
2017-05-19 16:47:45.092 [ReceiverSessionImpl:181] [DEBUG] envelope file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox\envl_95b29548-8482-48d7-801d-1901fa8bf208.xml successfully removed from the input directory of the sedex adapter
2017-05-19 16:47:45.093 [ReceiverSessionImpl:196] [INFO] data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip successfully removed from the input directory of the sedex adapter
2017-05-19 16:47:45.093 [Receiver:83] [DEBUG] receiver completed
2017-05-19 16:47:45.093 [SenderSessionImpl:267] [DEBUG] Nothing to sign. No SigningOutbox is defined for: outbox
2017-05-19 16:47:45.094 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:47:45.094 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:47:45.094 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:47:45.094 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:47:45.095 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:47:45.095 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:47:45.095 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:47:45.095 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:47:50.017 [StatusCheckerJob:49] [DEBUG] status checker job started
2017-05-19 16:47:50.019 [ReceiverJob:51] [DEBUG] receiver job started
2017-05-19 16:47:50.020 [StatusChecker:93] [DEBUG] checker completed
2017-05-19 16:47:50.021 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:47:50.021 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:47:50.022 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:47:50.023 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:47:50.023 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:47:50.025 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:47:50.025 [SenderSessionImpl:267] [DEBUG] Nothing to sign. No SigningOutbox is defined for: outbox
2017-05-19 16:47:50.027 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:47:50.027 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:47:50.028 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:47:50.029 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:47:50.030 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:47:50.030 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:47:50.031 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:47:50.032 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:47:50.032 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:47:53.231 [MessageHandlerService:136] [INFO] stopping the message handler service
2017-05-19 16:47:53.231 [QuartzScheduler:542] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutting down.
2017-05-19 16:47:53.231 [QuartzScheduler:470] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED paused.
2017-05-19 16:47:53.241 [QuartzScheduler:592] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutdown complete.
2017-05-19 16:47:53.548 [DbLogService:358] [DEBUG] shutdown statement issued for the log service
2017-05-19 16:47:53.549 [DbLogService:362] [DEBUG] log service stopped
2017-05-19 16:47:53.650 [MessageHandler:131] [INFO] HTTP server terminated
2017-05-19 16:47:53.650 [MessageHandlerService:139] [INFO] the message handler service stopped with the exit code 0
2017-05-19 16:48:09.167 [MessageHandlerService:73] [INFO] +-------------------------------------+
2017-05-19 16:48:09.167 [MessageHandlerService:74] [INFO] open-egov-msghandler 3.4.0
2017-05-19 16:48:09.167 [MessageHandlerService:75] [INFO] +-------------------------------------+
2017-05-19 16:48:09.167 [MessageHandlerService:77] [INFO] configuring the message handler service from the configuration file ./src/test/resources/complete/mh-multi//install-dir/conf/config.xml
2017-05-19 16:48:09.187 [ClientConfigurationFactory:142] [INFO] Sedex adapter configuration added, 
	participantId: 7-4-1;
	inbox folder: ./src/test/resources/complete/sedex/inbox;
	outbox folder: ./src/test/resources/complete/sedex/outbox;
	receipt folder: ./src/test/resources/complete/sedex/receipts;
	sent folder: ./src/test/resources/complete/sedex/sent;
2017-05-19 16:48:09.188 [ClientConfigurationFactory:553] [INFO] baseDir is: ./src/test/resources/complete/mh-multi/base-path
2017-05-19 16:48:09.189 [ClientConfigurationFactory:536] [INFO] workingDir is: ./src/test/resources/complete/mh-multi/install-dir/workingDir
2017-05-19 16:48:09.189 [ClientConfigurationFactory:151] [WARN] No delayer has been set with the key messageHandler.minimumFileAge.waitFor, which means every file will be sent ASAP instead of waiting for a bit ! This is usually a bad idea for big files as they tend to be slow...
2017-05-19 16:48:09.189 [ClientConfigurationFactory:220] [INFO] Configure the native MH applications...
2017-05-19 16:48:09.190 [Outbox:78] [INFO] Created NativeOutbox: SedexId: 7-4-2, Type: 10003, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:48:09.190 [ClientConfigurationFactory:276] [INFO] participant ID resolver configured, ScriptedNamingService: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\recipientIdResolver.groovy, Method: resolve for outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:48:09.191 [ClientConfigurationFactory:287] [INFO] sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox; type of the outgoing messages: 10003; sedex ID of the sender: 7-4-2;
2017-05-19 16:48:09.191 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-2, Types: {10003}, Mode: NATIVE, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\inbox
2017-05-19 16:48:09.192 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-2, 10003
2017-05-19 16:48:09.192 [ClientConfigurationFactory:384] [INFO] Configure the transparent applications...
2017-05-19 16:48:09.192 [Outbox:95] [INFO] Created TransparentOutbox: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:48:09.193 [ClientConfigurationFactory:405] [INFO] transparent sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox; type of the outgoing messages: [not specified]; sedex ID of the sender: [not specified];
2017-05-19 16:48:09.193 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-3, Types: {10003}, Mode: TRANSPARENT, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox
2017-05-19 16:48:09.193 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-3, 10003
2017-05-19 16:48:09.194 [ReceiptsFolder:64] [INFO] Created ReceiptsFolder: SedexId: 7-4-3, Types: {10003}, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\receipts
2017-05-19 16:48:09.194 [Outbox:95] [INFO] Created TransparentOutbox: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:48:09.195 [ClientConfigurationFactory:405] [INFO] transparent sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox; type of the outgoing messages: [not specified]; sedex ID of the sender: [not specified];
2017-05-19 16:48:09.195 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-4, Types: {10003}, Mode: TRANSPARENT, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\inbox
2017-05-19 16:48:09.195 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-4, 10003
2017-05-19 16:48:09.196 [ReceiptsFolder:64] [INFO] Created ReceiptsFolder: SedexId: 7-4-4, Types: {10003}, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\receipts
2017-05-19 16:48:09.196 [ClientConfigurationFactory:431] [INFO] receiver added, cron expression: 0/5 * * * * ?, inboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\inbox; transparent: NATIVE; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-2;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox; transparent: TRANSPARENT; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-3;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\inbox; transparent: TRANSPARENT; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-4;
2017-05-19 16:48:09.196 [ClientConfigurationFactory:434] [INFO] status checker added, cron expression: 0/5 * * * * ?, folders: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\receipts; types of the checked messages: 10003; sedex ID of the participant: 7-4-3;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\receipts; types of the checked messages: 10003; sedex ID of the participant: 7-4-4;
2017-05-19 16:48:09.197 [ClientConfigurationFactory:489] [INFO] message status database configured, database folder: ./src/test/resources/complete/DB; maxAge: 2; resend: true;
2017-05-19 16:48:09.197 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-2: [10003]
2017-05-19 16:48:09.197 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-3: [10003]
2017-05-19 16:48:09.198 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-4: [10003]
2017-05-19 16:48:09.198 [ClientConfigurationFactory:454] [INFO] protocol writer configured
2017-05-19 16:48:09.198 [ClientConfigurationFactory:464] [INFO] webservice interface configured, host name: localhost; port number: 18'080
2017-05-19 16:48:09.199 [MessageHandler:82] [INFO] initializing the protocol service via Log4j interface
2017-05-19 16:48:09.200 [MessageHandler:86] [INFO] initializing the message status service (DbLog)
2017-05-19 16:48:09.332 [DbLogService:189] [ERROR] java.sql.SQLException: Table not found in statement [DELETE FROM status WHERE (received_date IS NULL AND DATEDIFF('dd', sent_date, CURRENT_TIMESTAMP) > ?) OR DATEDIFF('dd', received_date, CURRENT_TIMESTAMP) > ?] Query: DELETE FROM status WHERE (received_date IS NULL AND DATEDIFF('dd', sent_date, CURRENT_TIMESTAMP) > ?) OR DATEDIFF('dd', received_date, CURRENT_TIMESTAMP) > ? Parameters: [2, 2]
2017-05-19 16:48:09.332 [DbLogService:191] [DEBUG] Creating the status table...
2017-05-19 16:48:09.376 [DbLogService:193] [INFO] The status table is created.
2017-05-19 16:48:09.377 [MessageHandler:97] [INFO] the message status service (DbLog) initialized
2017-05-19 16:48:09.463 [SimpleThreadPool:258] [INFO] Job execution threads will use class loader of thread: main
2017-05-19 16:48:09.476 [QuartzScheduler:209] [INFO] Quartz Scheduler v.1.6.0 created.
2017-05-19 16:48:09.477 [RAMJobStore:141] [INFO] RAMJobStore initialized.
2017-05-19 16:48:09.478 [StdSchedulerFactory:1208] [INFO] Quartz scheduler 'DefaultQuartzScheduler' initialized from default resource file in Quartz package: 'quartz.properties'
2017-05-19 16:48:09.478 [StdSchedulerFactory:1212] [INFO] Quartz scheduler version: 1.6.0
2017-05-19 16:48:09.506 [MessageHandler:210] [INFO] HTTP server started on host localhost  and port 18080
2017-05-19 16:48:09.506 [MessageHandlerService:104] [INFO] SUIS message handler service initialized
2017-05-19 16:48:09.507 [MessageHandlerService:113] [INFO] SUIS message handler service started
2017-05-19 16:48:09.507 [ServiceRunner:60] [INFO] starting the Quartz jobs
2017-05-19 16:48:09.507 [QuartzScheduler:455] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2017-05-19 16:48:09.520 [ServiceRunner:87] [INFO] sender started with name=senderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:48:09.522 [ServiceRunner:110] [INFO] transparent sender started with name=transparentSenderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:48:09.524 [ServiceRunner:110] [INFO] transparent sender started with name=transparentSenderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:48:09.528 [ServiceRunner:121] [INFO] receiver started
2017-05-19 16:48:09.531 [ServiceRunner:130] [INFO] message status checker started
2017-05-19 16:48:09.534 [ServiceRunner:140] [INFO] cleanup job for message status DB started
2017-05-19 16:48:10.036 [StatusCheckerJob:49] [DEBUG] status checker job started
2017-05-19 16:48:10.039 [ReceiverJob:51] [DEBUG] receiver job started
2017-05-19 16:48:10.048 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:48:10.049 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:48:10.051 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:48:10.068 [StatusChecker:93] [DEBUG] checker completed
2017-05-19 16:48:10.072 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:48:10.072 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:48:10.072 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:48:10.073 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:48:10.076 [SenderSessionImpl:267] [DEBUG] Nothing to sign. No SigningOutbox is defined for: outbox
2017-05-19 16:48:10.077 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:48:10.077 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:48:10.078 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:48:10.078 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:48:10.078 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:48:10.079 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:48:10.086 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:48:10.087 [MessageCollection:153] [DEBUG] Create message from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\envl_95b29548-8482-48d7-801d-1901fa8bf208.xml
2017-05-19 16:48:10.224 [MessageCollection:138] [INFO] reading the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip for the message ID 95b29548-8482-48d7-801d-1901fa8bf208
2017-05-19 16:48:10.232 [TransparentSenderSessionImpl:159] [DEBUG] the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip was copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\outbox as .\src\test\resources\complete\sedex\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip
2017-05-19 16:48:10.235 [TransparentSenderSessionImpl:173] [INFO] the data file and envelope for the message ID 95b29548-8482-48d7-801d-1901fa8bf208 copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\outbox
2017-05-19 16:48:10.238 [TransparentSenderSessionImpl:159] [DEBUG] the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip was copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox as .\src\test\resources\complete\sedex\inbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip
2017-05-19 16:48:10.241 [TransparentSenderSessionImpl:173] [INFO] the data file and envelope for the message ID 95b29548-8482-48d7-801d-1901fa8bf208 copied to the outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:48:10.260 [XMLValidator:90] [DEBUG] Schema location for eCH-0090-2-0.xsd: http://www.ech.ch/xmlns/eCH-0090/2 file:/C:/Users/pirklt/Desktop/MessageHandler-SRC/src/distribution/test-classes/eCH-0090-2-0.xsd
2017-05-19 16:48:10.267 [SenderSession:147] [DEBUG] Generate and save a receipt report: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\receipts\receipt__ID_95b29548-8482-48d7-801d-1901fa8bf208_1.xml
2017-05-19 16:48:10.273 [XMLValidator:90] [DEBUG] Schema location for eCH-0090-2-0.xsd: http://www.ech.ch/xmlns/eCH-0090/2 file:/C:/Users/pirklt/Desktop/MessageHandler-SRC/src/distribution/test-classes/eCH-0090-2-0.xsd
2017-05-19 16:48:10.279 [SenderSession:147] [DEBUG] Generate and save a receipt report: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\receipts\receipt__ID_95b29548-8482-48d7-801d-1901fa8bf208_2.xml
2017-05-19 16:48:10.286 [SenderSession:86] [DEBUG] envelope file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\envl_95b29548-8482-48d7-801d-1901fa8bf208.xml successfully removed
2017-05-19 16:48:10.287 [SenderSession:91] [DEBUG] data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip successfully removed
2017-05-19 16:48:10.287 [Sender:88] [DEBUG] sender completed
2017-05-19 16:48:15.011 [StatusCheckerJob:49] [DEBUG] status checker job started
2017-05-19 16:48:15.013 [ReceiverJob:51] [DEBUG] receiver job started
2017-05-19 16:48:15.014 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:48:15.016 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:48:15.018 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:48:15.037 [StatusCheckerSessionImpl:137] [INFO] message ID 95b29548-8482-48d7-801d-1901fa8bf208: receipt found
2017-05-19 16:48:15.052 [StatusCheckerSessionImpl:137] [INFO] message ID 95b29548-8482-48d7-801d-1901fa8bf208: receipt found
2017-05-19 16:48:15.053 [StatusCheckerSessionImpl:327] [INFO] message ID 95b29548-8482-48d7-801d-1901fa8bf208: the message has been delivered by the Sedex adapter, status Message successfully transmitted
2017-05-19 16:48:15.061 [StatusCheckerSessionImpl:530] [INFO] the envelope file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\receipts\receipt__ID_95b29548-8482-48d7-801d-1901fa8bf208_1.xml successfully copied to the external directory C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\receipts
2017-05-19 16:48:15.062 [StatusCheckerSessionImpl:543] [DEBUG] original envelope file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\receipts\receipt__ID_95b29548-8482-48d7-801d-1901fa8bf208_1.xml successfully removed
2017-05-19 16:48:15.063 [StatusCheckerSessionImpl:327] [INFO] message ID 95b29548-8482-48d7-801d-1901fa8bf208: the message has been delivered by the Sedex adapter, status Message successfully transmitted
2017-05-19 16:48:15.070 [StatusCheckerSessionImpl:530] [INFO] the envelope file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\receipts\receipt__ID_95b29548-8482-48d7-801d-1901fa8bf208_2.xml successfully copied to the external directory C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\receipts
2017-05-19 16:48:15.071 [StatusCheckerSessionImpl:543] [DEBUG] original envelope file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\receipts\receipt__ID_95b29548-8482-48d7-801d-1901fa8bf208_2.xml successfully removed
2017-05-19 16:48:15.072 [StatusChecker:93] [DEBUG] checker completed
2017-05-19 16:48:15.072 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:48:15.073 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:48:15.074 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:48:15.075 [MessageCollection:153] [DEBUG] Create message from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox\envl_95b29548-8482-48d7-801d-1901fa8bf208.xml
2017-05-19 16:48:15.093 [MessageCollection:138] [INFO] reading the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip for the message ID 95b29548-8482-48d7-801d-1901fa8bf208
2017-05-19 16:48:15.094 [NativeAppInbox:80] [DEBUG] unpacking message with message_ID=95b29548-8482-48d7-801d-1901fa8bf208
2017-05-19 16:48:15.096 [ZipUtils:96] [DEBUG] cannot make all the necessary directories for the file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\install-dir\workingDir\tmp\receiving\test1.pdf or the path is already created 
2017-05-19 16:48:15.100 [NativeAppInbox:86] [DEBUG] extracted file: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\install-dir\workingDir\tmp\receiving\test1.pdf
2017-05-19 16:48:15.103 [TransparentInbox:55] [INFO] the envelope file envl_95b29548-8482-48d7-801d-1901fa8bf208.xml put transparently into the inbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox
2017-05-19 16:48:15.107 [TransparentInbox:62] [INFO] the data file data_95b29548-8482-48d7-801d-1901fa8bf208.zip put transparently into the inbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox
2017-05-19 16:48:15.117 [NativeAppInbox:63] [INFO] file test1.pdf received and put into the inbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\inbox
2017-05-19 16:48:15.119 [ReceiverSessionImpl:181] [DEBUG] envelope file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox\envl_95b29548-8482-48d7-801d-1901fa8bf208.xml successfully removed from the input directory of the sedex adapter
2017-05-19 16:48:15.120 [ReceiverSessionImpl:196] [INFO] data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox\data_95b29548-8482-48d7-801d-1901fa8bf208.zip successfully removed from the input directory of the sedex adapter
2017-05-19 16:48:15.120 [Receiver:83] [DEBUG] receiver completed
2017-05-19 16:48:15.120 [SenderSessionImpl:267] [DEBUG] Nothing to sign. No SigningOutbox is defined for: outbox
2017-05-19 16:48:15.121 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:48:15.121 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:48:15.121 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:48:15.121 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:48:15.122 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:48:15.122 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:48:15.122 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:48:15.122 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:48:20.020 [StatusCheckerJob:49] [DEBUG] status checker job started
2017-05-19 16:48:20.021 [ReceiverJob:51] [DEBUG] receiver job started
2017-05-19 16:48:20.022 [StatusChecker:93] [DEBUG] checker completed
2017-05-19 16:48:20.024 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:48:20.024 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:48:20.024 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:48:20.025 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:48:20.026 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:48:20.027 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:48:20.028 [SenderSessionImpl:267] [DEBUG] Nothing to sign. No SigningOutbox is defined for: outbox
2017-05-19 16:48:20.030 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:48:20.030 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:48:20.032 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:48:20.033 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:48:20.034 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:48:20.035 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:48:20.035 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:48:20.036 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:48:20.037 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:48:24.507 [MessageHandlerService:136] [INFO] stopping the message handler service
2017-05-19 16:48:24.508 [QuartzScheduler:542] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutting down.
2017-05-19 16:48:24.509 [QuartzScheduler:470] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED paused.
2017-05-19 16:48:24.514 [QuartzScheduler:592] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutdown complete.
2017-05-19 16:48:24.757 [DbLogService:358] [DEBUG] shutdown statement issued for the log service
2017-05-19 16:48:24.758 [DbLogService:362] [DEBUG] log service stopped
2017-05-19 16:48:24.861 [MessageHandler:131] [INFO] HTTP server terminated
2017-05-19 16:48:24.862 [MessageHandlerService:139] [INFO] the message handler service stopped with the exit code 0
2017-05-19 16:48:24.928 [MessageHandlerService:73] [INFO] +-------------------------------------+
2017-05-19 16:48:24.928 [MessageHandlerService:74] [INFO] open-egov-msghandler 3.4.0
2017-05-19 16:48:24.928 [MessageHandlerService:75] [INFO] +-------------------------------------+
2017-05-19 16:48:24.928 [MessageHandlerService:77] [INFO] configuring the message handler service from the configuration file ./src/test/resources/complete/mh-multi//install-dir/conf/config.xml
2017-05-19 16:48:24.942 [ClientConfigurationFactory:142] [INFO] Sedex adapter configuration added, 
	participantId: 7-4-1;
	inbox folder: ./src/test/resources/complete/sedex/inbox;
	outbox folder: ./src/test/resources/complete/sedex/outbox;
	receipt folder: ./src/test/resources/complete/sedex/receipts;
	sent folder: ./src/test/resources/complete/sedex/sent;
2017-05-19 16:48:24.943 [ClientConfigurationFactory:553] [INFO] baseDir is: ./src/test/resources/complete/mh-multi/base-path
2017-05-19 16:48:24.944 [ClientConfigurationFactory:536] [INFO] workingDir is: ./src/test/resources/complete/mh-multi/install-dir/workingDir
2017-05-19 16:48:24.944 [ClientConfigurationFactory:151] [WARN] No delayer has been set with the key messageHandler.minimumFileAge.waitFor, which means every file will be sent ASAP instead of waiting for a bit ! This is usually a bad idea for big files as they tend to be slow...
2017-05-19 16:48:24.944 [ClientConfigurationFactory:220] [INFO] Configure the native MH applications...
2017-05-19 16:48:24.945 [Outbox:78] [INFO] Created NativeOutbox: SedexId: 7-4-2, Type: 10003, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:48:24.945 [ClientConfigurationFactory:276] [INFO] participant ID resolver configured, ScriptedNamingService: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\recipientIdResolver.groovy, Method: resolve for outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:48:24.945 [ClientConfigurationFactory:287] [INFO] sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox; type of the outgoing messages: 10003; sedex ID of the sender: 7-4-2;
2017-05-19 16:48:24.946 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-2, Types: {10003}, Mode: NATIVE, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\inbox
2017-05-19 16:48:24.946 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-2, 10003
2017-05-19 16:48:24.946 [ClientConfigurationFactory:384] [INFO] Configure the transparent applications...
2017-05-19 16:48:24.947 [Outbox:95] [INFO] Created TransparentOutbox: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:48:24.947 [ClientConfigurationFactory:405] [INFO] transparent sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox; type of the outgoing messages: [not specified]; sedex ID of the sender: [not specified];
2017-05-19 16:48:24.947 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-3, Types: {10003}, Mode: TRANSPARENT, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox
2017-05-19 16:48:24.948 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-3, 10003
2017-05-19 16:48:24.948 [ReceiptsFolder:64] [INFO] Created ReceiptsFolder: SedexId: 7-4-3, Types: {10003}, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\receipts
2017-05-19 16:48:24.948 [Outbox:95] [INFO] Created TransparentOutbox: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:48:24.949 [ClientConfigurationFactory:405] [INFO] transparent sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox; type of the outgoing messages: [not specified]; sedex ID of the sender: [not specified];
2017-05-19 16:48:24.949 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-4, Types: {10003}, Mode: TRANSPARENT, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\inbox
2017-05-19 16:48:24.949 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-4, 10003
2017-05-19 16:48:24.950 [ReceiptsFolder:64] [INFO] Created ReceiptsFolder: SedexId: 7-4-4, Types: {10003}, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\receipts
2017-05-19 16:48:24.950 [ClientConfigurationFactory:431] [INFO] receiver added, cron expression: 0/5 * * * * ?, inboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\inbox; transparent: NATIVE; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-2;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox; transparent: TRANSPARENT; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-3;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\inbox; transparent: TRANSPARENT; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-4;
2017-05-19 16:48:24.950 [ClientConfigurationFactory:434] [INFO] status checker added, cron expression: 0/5 * * * * ?, folders: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\receipts; types of the checked messages: 10003; sedex ID of the participant: 7-4-3;
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\receipts; types of the checked messages: 10003; sedex ID of the participant: 7-4-4;
2017-05-19 16:48:24.951 [ClientConfigurationFactory:489] [INFO] message status database configured, database folder: ./src/test/resources/complete/DB; maxAge: 2; resend: true;
2017-05-19 16:48:24.951 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-2: [10003]
2017-05-19 16:48:24.952 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-3: [10003]
2017-05-19 16:48:24.952 [ClientConfigurationFactory:447] [INFO] LocalRecipient: 7-4-4: [10003]
2017-05-19 16:48:24.952 [ClientConfigurationFactory:454] [INFO] protocol writer configured
2017-05-19 16:48:24.952 [ClientConfigurationFactory:464] [INFO] webservice interface configured, host name: localhost; port number: 18'080
2017-05-19 16:48:24.953 [MessageHandler:82] [INFO] initializing the protocol service via Log4j interface
2017-05-19 16:48:24.953 [MessageHandler:86] [INFO] initializing the message status service (DbLog)
2017-05-19 16:48:24.972 [DbLogService:189] [ERROR] java.sql.SQLException: Table not found in statement [DELETE FROM status WHERE (received_date IS NULL AND DATEDIFF('dd', sent_date, CURRENT_TIMESTAMP) > ?) OR DATEDIFF('dd', received_date, CURRENT_TIMESTAMP) > ?] Query: DELETE FROM status WHERE (received_date IS NULL AND DATEDIFF('dd', sent_date, CURRENT_TIMESTAMP) > ?) OR DATEDIFF('dd', received_date, CURRENT_TIMESTAMP) > ? Parameters: [2, 2]
2017-05-19 16:48:24.972 [DbLogService:191] [DEBUG] Creating the status table...
2017-05-19 16:48:24.992 [DbLogService:193] [INFO] The status table is created.
2017-05-19 16:48:24.992 [MessageHandler:97] [INFO] the message status service (DbLog) initialized
2017-05-19 16:48:24.995 [SimpleThreadPool:258] [INFO] Job execution threads will use class loader of thread: main
2017-05-19 16:48:24.997 [QuartzScheduler:209] [INFO] Quartz Scheduler v.1.6.0 created.
2017-05-19 16:48:24.998 [RAMJobStore:141] [INFO] RAMJobStore initialized.
2017-05-19 16:48:24.998 [StdSchedulerFactory:1208] [INFO] Quartz scheduler 'DefaultQuartzScheduler' initialized from default resource file in Quartz package: 'quartz.properties'
2017-05-19 16:48:24.998 [StdSchedulerFactory:1212] [INFO] Quartz scheduler version: 1.6.0
2017-05-19 16:48:25.008 [MessageHandler:210] [INFO] HTTP server started on host localhost  and port 18080
2017-05-19 16:48:25.008 [MessageHandlerService:104] [INFO] SUIS message handler service initialized
2017-05-19 16:48:25.008 [MessageHandlerService:113] [INFO] SUIS message handler service started
2017-05-19 16:48:25.009 [ServiceRunner:60] [INFO] starting the Quartz jobs
2017-05-19 16:48:25.009 [QuartzScheduler:455] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2017-05-19 16:48:25.011 [ServiceRunner:87] [INFO] sender started with name=senderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\outbox
2017-05-19 16:48:25.012 [ServiceRunner:110] [INFO] transparent sender started with name=transparentSenderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:48:25.013 [ServiceRunner:110] [INFO] transparent sender started with name=transparentSenderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:48:25.014 [ServiceRunner:121] [INFO] receiver started
2017-05-19 16:48:25.015 [ServiceRunner:130] [INFO] message status checker started
2017-05-19 16:48:25.016 [ServiceRunner:140] [INFO] cleanup job for message status DB started
2017-05-19 16:48:25.021 [StatusCheckerJob:49] [DEBUG] status checker job started
2017-05-19 16:48:25.023 [StatusChecker:93] [DEBUG] checker completed
2017-05-19 16:48:25.023 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:48:25.023 [SenderSessionImpl:267] [DEBUG] Nothing to sign. No SigningOutbox is defined for: outbox
2017-05-19 16:48:25.023 [ReceiverJob:51] [DEBUG] receiver job started
2017-05-19 16:48:25.024 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:48:25.024 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:48:25.026 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:48:25.028 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:48:25.029 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:48:25.029 [MessageCollection:153] [DEBUG] Create message from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox\envl_95b29548-8482-48d7-801d-1901fa8bf209.xml
2017-05-19 16:48:25.072 [MessageCollection:138] [INFO] reading the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox\data_95b29548-8482-48d7-801d-1901fa8bf209.zip for the message ID 95b29548-8482-48d7-801d-1901fa8bf209
2017-05-19 16:48:25.072 [NativeAppInbox:80] [DEBUG] unpacking message with message_ID=95b29548-8482-48d7-801d-1901fa8bf209
2017-05-19 16:48:25.073 [ZipUtils:96] [DEBUG] cannot make all the necessary directories for the file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\install-dir\workingDir\tmp\receiving\test1.pdf or the path is already created 
2017-05-19 16:48:25.077 [NativeAppInbox:86] [DEBUG] extracted file: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\install-dir\workingDir\tmp\receiving\test1.pdf
2017-05-19 16:48:25.080 [TransparentInbox:55] [INFO] the envelope file envl_95b29548-8482-48d7-801d-1901fa8bf209.xml put transparently into the inbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox
2017-05-19 16:48:25.084 [TransparentInbox:62] [INFO] the data file data_95b29548-8482-48d7-801d-1901fa8bf209.zip put transparently into the inbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\inbox
2017-05-19 16:48:25.093 [NativeAppInbox:63] [INFO] file test1.pdf received and put into the inbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\nativeApp1\inbox
2017-05-19 16:48:25.094 [ReceiverSessionImpl:181] [DEBUG] envelope file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox\envl_95b29548-8482-48d7-801d-1901fa8bf209.xml successfully removed from the input directory of the sedex adapter
2017-05-19 16:48:25.095 [ReceiverSessionImpl:196] [INFO] data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox\data_95b29548-8482-48d7-801d-1901fa8bf209.zip successfully removed from the input directory of the sedex adapter
2017-05-19 16:48:25.095 [Receiver:83] [DEBUG] receiver completed
2017-05-19 16:48:25.095 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:48:25.096 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:48:25.096 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:48:25.096 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:48:25.096 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:48:25.097 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:48:25.097 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:48:25.097 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:48:30.016 [StatusCheckerJob:49] [DEBUG] status checker job started
2017-05-19 16:48:30.018 [ReceiverJob:51] [DEBUG] receiver job started
2017-05-19 16:48:30.019 [StatusChecker:93] [DEBUG] checker completed
2017-05-19 16:48:30.019 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:48:30.020 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:48:30.021 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:48:30.021 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:48:30.021 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:48:30.022 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:48:30.023 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:48:30.023 [SenderSessionImpl:267] [DEBUG] Nothing to sign. No SigningOutbox is defined for: outbox
2017-05-19 16:48:30.024 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:48:30.025 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:48:30.026 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:48:30.027 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:48:30.027 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:48:30.028 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:48:30.029 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:48:30.030 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:48:35.014 [StatusCheckerJob:49] [DEBUG] status checker job started
2017-05-19 16:48:35.016 [ReceiverJob:51] [DEBUG] receiver job started
2017-05-19 16:48:35.017 [StatusChecker:93] [DEBUG] checker completed
2017-05-19 16:48:35.017 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:48:35.018 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:48:35.018 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:48:35.019 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:48:35.019 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:48:35.021 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:48:35.021 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:48:35.022 [SenderSessionImpl:267] [DEBUG] Nothing to sign. No SigningOutbox is defined for: outbox
2017-05-19 16:48:35.023 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox
2017-05-19 16:48:35.023 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:48:35.024 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp1\outbox. This may take long time
2017-05-19 16:48:35.025 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:48:35.025 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox
2017-05-19 16:48:35.025 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:48:35.026 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-multi\base-path\transApp2\outbox. This may take long time
2017-05-19 16:48:35.027 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:48:40.009 [MessageHandlerService:136] [INFO] stopping the message handler service
2017-05-19 16:48:40.009 [QuartzScheduler:542] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutting down.
2017-05-19 16:48:40.010 [QuartzScheduler:470] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED paused.
2017-05-19 16:48:40.011 [QuartzScheduler:592] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutdown complete.
2017-05-19 16:48:40.213 [DbLogService:358] [DEBUG] shutdown statement issued for the log service
2017-05-19 16:48:40.213 [DbLogService:362] [DEBUG] log service stopped
2017-05-19 16:48:40.316 [MessageHandler:131] [INFO] HTTP server terminated
2017-05-19 16:48:40.316 [MessageHandlerService:139] [INFO] the message handler service stopped with the exit code 0
2017-05-19 16:48:40.363 [MessageHandlerService:73] [INFO] +-------------------------------------+
2017-05-19 16:48:40.363 [MessageHandlerService:74] [INFO] open-egov-msghandler 3.4.0
2017-05-19 16:48:40.363 [MessageHandlerService:75] [INFO] +-------------------------------------+
2017-05-19 16:48:40.363 [MessageHandlerService:77] [INFO] configuring the message handler service from the configuration file ./src/test/resources/complete/mh-simple/install-dir/conf/config.xml
2017-05-19 16:48:40.382 [ClientConfigurationFactory:142] [INFO] Sedex adapter configuration added, 
	participantId: T7-4-1;
	inbox folder: ./src/test/resources/complete/sedex/inbox;
	outbox folder: ./src/test/resources/complete/sedex/outbox;
	receipt folder: ./src/test/resources/complete/sedex/receipts;
	sent folder: ./src/test/resources/complete/sedex/sent;
2017-05-19 16:48:40.382 [ClientConfigurationFactory:553] [INFO] baseDir is: ./src/test/resources/complete/mh-simple/base-path
2017-05-19 16:48:40.383 [ClientConfigurationFactory:536] [INFO] workingDir is: ./src/test/resources/complete/mh-simple/base-path
2017-05-19 16:48:40.383 [ClientConfigurationFactory:151] [WARN] No delayer has been set with the key messageHandler.minimumFileAge.waitFor, which means every file will be sent ASAP instead of waiting for a bit ! This is usually a bad idea for big files as they tend to be slow...
2017-05-19 16:48:40.383 [ClientConfigurationFactory:220] [INFO] Configure the native MH applications...
2017-05-19 16:48:40.384 [Outbox:78] [INFO] Created NativeOutbox: SedexId: 7-4-1, Type: 10003, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-simple\base-path\outbox1
2017-05-19 16:48:40.384 [ClientConfigurationFactory:276] [INFO] participant ID resolver configured, ScriptedNamingService: Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-simple\base-path\recipientIdResolver.groovy, Method: resolve for outbox C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-simple\base-path\outbox1
2017-05-19 16:48:40.385 [Inbox:85] [INFO] Created Inbox: SedexId: 7-4-1, Types: {10003}, Mode: NATIVE, Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-simple\base-path\inbox1
2017-05-19 16:48:40.385 [ClientConfigurationFactory:594] [DEBUG] checkSedexIdMsgTypes: 7-4-1, 10003
2017-05-19 16:48:40.385 [ClientConfigurationFactory:185] [INFO] sender added, name: _C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-simple\base-path\outbox1; cron expression: 0/5 * * * * ?, outboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-simple\base-path\outbox1; type of the outgoing messages: 10003; sedex ID of the sender: 7-4-1;
2017-05-19 16:48:40.385 [ClientConfigurationFactory:384] [INFO] Configure the transparent applications...
2017-05-19 16:48:40.386 [ClientConfigurationFactory:431] [INFO] receiver added, cron expression: 0/5 * * * * ?, inboxes: 
	name: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-simple\base-path\inbox1; transparent: NATIVE; types of the incoming messages: 10003; sedex ID of the receiver: 7-4-1;
2017-05-19 16:48:40.386 [ClientConfigurationFactory:434] [INFO] status checker added, cron expression: 0/5 * * * * ?, folders: [not specified]
2017-05-19 16:48:40.386 [ClientConfigurationFactory:489] [INFO] message status database configured, database folder: ./src/test/resources/complete/DB; maxAge: 2; resend: true;
2017-05-19 16:48:40.386 [ClientConfigurationFactory:454] [INFO] protocol writer not configured
2017-05-19 16:48:40.387 [ClientConfigurationFactory:464] [INFO] webservice interface configured, host name: localhost; port number: 18'080
2017-05-19 16:48:40.387 [MessageHandler:82] [INFO] initializing the protocol service via Log4j interface
2017-05-19 16:48:40.387 [MessageHandler:86] [INFO] initializing the message status service (DbLog)
2017-05-19 16:48:40.408 [DbLogService:189] [ERROR] java.sql.SQLException: Table not found in statement [DELETE FROM status WHERE (received_date IS NULL AND DATEDIFF('dd', sent_date, CURRENT_TIMESTAMP) > ?) OR DATEDIFF('dd', received_date, CURRENT_TIMESTAMP) > ?] Query: DELETE FROM status WHERE (received_date IS NULL AND DATEDIFF('dd', sent_date, CURRENT_TIMESTAMP) > ?) OR DATEDIFF('dd', received_date, CURRENT_TIMESTAMP) > ? Parameters: [2, 2]
2017-05-19 16:48:40.408 [DbLogService:191] [DEBUG] Creating the status table...
2017-05-19 16:48:40.428 [DbLogService:193] [INFO] The status table is created.
2017-05-19 16:48:40.428 [MessageHandler:97] [INFO] the message status service (DbLog) initialized
2017-05-19 16:48:40.431 [SimpleThreadPool:258] [INFO] Job execution threads will use class loader of thread: main
2017-05-19 16:48:40.433 [QuartzScheduler:209] [INFO] Quartz Scheduler v.1.6.0 created.
2017-05-19 16:48:40.433 [RAMJobStore:141] [INFO] RAMJobStore initialized.
2017-05-19 16:48:40.434 [StdSchedulerFactory:1208] [INFO] Quartz scheduler 'DefaultQuartzScheduler' initialized from default resource file in Quartz package: 'quartz.properties'
2017-05-19 16:48:40.434 [StdSchedulerFactory:1212] [INFO] Quartz scheduler version: 1.6.0
2017-05-19 16:48:40.443 [MessageHandler:210] [INFO] HTTP server started on host localhost  and port 18080
2017-05-19 16:48:40.443 [MessageHandlerService:104] [INFO] SUIS message handler service initialized
2017-05-19 16:48:40.443 [MessageHandlerService:113] [INFO] SUIS message handler service started
2017-05-19 16:48:40.443 [ServiceRunner:60] [INFO] starting the Quartz jobs
2017-05-19 16:48:40.444 [QuartzScheduler:455] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.
2017-05-19 16:48:40.445 [ServiceRunner:87] [INFO] sender started with name=senderTrigger__C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-simple\base-path\outbox1
2017-05-19 16:48:40.445 [ServiceRunner:121] [INFO] receiver started
2017-05-19 16:48:40.446 [ServiceRunner:130] [INFO] message status checker started
2017-05-19 16:48:40.446 [ServiceRunner:140] [INFO] cleanup job for message status DB started
2017-05-19 16:48:40.454 [StatusCheckerJob:49] [DEBUG] status checker job started
2017-05-19 16:48:40.455 [ReceiverJob:51] [DEBUG] receiver job started
2017-05-19 16:48:40.455 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:48:40.456 [StatusChecker:93] [DEBUG] checker completed
2017-05-19 16:48:40.456 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:48:40.456 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:48:40.456 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:48:40.456 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:48:40.456 [SenderSessionImpl:267] [DEBUG] Nothing to sign. No SigningOutbox is defined for: outbox1
2017-05-19 16:48:41.010 [SenderSessionImpl:163] [DEBUG] using the sender's sedex ID attribute to determine the sender ID for the file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-simple\base-path\outbox1\not_a_pdf_file.txt
2017-05-19 16:48:41.358 [SenderSessionImpl:191] [INFO] message ID f9177c27-0573-43bf-a916-7db6abf1fb7c: preparing to send the file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-simple\base-path\outbox1\not_a_pdf_file.txt
2017-05-19 16:48:41.380 [XMLValidator:90] [DEBUG] Schema location for eCH-0090-2-0.xsd: http://www.ech.ch/xmlns/eCH-0090/2 file:/C:/Users/pirklt/Desktop/MessageHandler-SRC/src/distribution/test-classes/eCH-0090-2-0.xsd
2017-05-19 16:48:41.388 [SenderSessionImpl:228] [INFO] the message f9177c27-0573-43bf-a916-7db6abf1fb7c is ready to be forwarded to the Sedex adapter
2017-05-19 16:48:41.393 [SenderSessionImpl:307] [DEBUG] the data file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-simple\base-path\tmp\preparing\data4944118026859096993.zip copied to the outbox of the sedex adapter as .\src\test\resources\complete\sedex\outbox\data_f9177c27-0573-43bf-a916-7db6abf1fb7c.zip
2017-05-19 16:48:41.400 [SenderSessionImpl:320] [INFO] message ID f9177c27-0573-43bf-a916-7db6abf1fb7c : the data file and envelope copied to the outbox of the sedex adapter
2017-05-19 16:48:41.402 [FileUtils:270] [ERROR] Unable to delete file: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-simple\base-path\sent\not_a_pdf_file.txt
2017-05-19 16:48:41.403 [FileUtils:273] [DEBUG] File succesfull moved: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-simple\base-path\outbox1\not_a_pdf_file.txt to: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-simple\base-path\sent\not_a_pdf_file.txt
2017-05-19 16:48:41.403 [SenderSessionImpl:374] [DEBUG] file moved to SENT: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh-simple\base-path\outbox1\not_a_pdf_file.txt
2017-05-19 16:48:41.404 [SenderSession:86] [DEBUG] envelope file .\src\test\resources\complete\mh-simple\base-path\tmp\preparing\envl3772306976954755200.xml successfully removed
2017-05-19 16:48:41.405 [SenderSession:91] [DEBUG] data file .\src\test\resources\complete\mh-simple\base-path\tmp\preparing\data4944118026859096993.zip successfully removed
2017-05-19 16:48:41.405 [Sender:88] [DEBUG] sender completed
2017-05-19 16:48:45.017 [StatusCheckerJob:49] [DEBUG] status checker job started
2017-05-19 16:48:45.017 [ReceiverJob:51] [DEBUG] receiver job started
2017-05-19 16:48:45.018 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:48:45.018 [StatusChecker:93] [DEBUG] checker completed
2017-05-19 16:48:45.018 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:48:45.019 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:48:45.019 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:48:45.019 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:48:45.019 [SenderSessionImpl:267] [DEBUG] Nothing to sign. No SigningOutbox is defined for: outbox1
2017-05-19 16:48:50.019 [StatusCheckerJob:49] [DEBUG] status checker job started
2017-05-19 16:48:50.020 [ReceiverJob:51] [DEBUG] receiver job started
2017-05-19 16:48:50.021 [SenderJob:57] [DEBUG] sender job started
2017-05-19 16:48:50.022 [StatusChecker:93] [DEBUG] checker completed
2017-05-19 16:48:50.023 [MessageCollection:76] [DEBUG] Scanning directory for messages. Path: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox
2017-05-19 16:48:50.023 [MessageCollection:170] [DEBUG] Get all envelop files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:48:50.024 [MessageCollection:190] [DEBUG] Get all data files from: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\inbox. This may take long time
2017-05-19 16:48:50.025 [MessageCollection:81] [DEBUG] No envelope files available. Nothing todo...
2017-05-19 16:48:50.026 [SenderSessionImpl:267] [DEBUG] Nothing to sign. No SigningOutbox is defined for: outbox1
2017-05-19 16:48:50.443 [MessageHandlerService:136] [INFO] stopping the message handler service
2017-05-19 16:48:50.444 [QuartzScheduler:542] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutting down.
2017-05-19 16:48:50.444 [QuartzScheduler:470] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED paused.
2017-05-19 16:48:50.451 [QuartzScheduler:592] [INFO] Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED shutdown complete.
2017-05-19 16:48:50.685 [DbLogService:358] [DEBUG] shutdown statement issued for the log service
2017-05-19 16:48:50.686 [DbLogService:362] [DEBUG] log service stopped
2017-05-19 16:48:50.789 [MessageHandler:131] [INFO] HTTP server terminated
2017-05-19 16:48:50.789 [MessageHandlerService:139] [INFO] the message handler service stopped with the exit code 0
2017-05-19 16:48:50.795 [ZipUtils:96] [DEBUG] cannot make all the necessary directories for the file C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\sedex\outbox\not_a_pdf_file.txt or the path is already created 
2017-05-19 16:48:50.900 [XMLValidator:90] [DEBUG] Schema location for eCH-0090-2-0.xsd: http://www.ech.ch/xmlns/eCH-0090/2 file:/C:/Users/pirklt/Desktop/MessageHandler-SRC/src/distribution/test-classes/eCH-0090-2-0.xsd
2017-05-19 16:48:50.990 [XMLValidator:90] [DEBUG] Schema location for eCH-0090-2-0.xsd: http://www.ech.ch/xmlns/eCH-0090/2 file:/C:/Users/pirklt/Desktop/MessageHandler-SRC/src/distribution/test-classes/eCH-0090-2-0.xsd
2017-05-19 16:48:51.011 [XMLValidator:90] [DEBUG] Schema location for eCH-0090-2-0.xsd: http://www.ech.ch/xmlns/eCH-0090/2 file:/C:/Users/pirklt/Desktop/MessageHandler-SRC/src/distribution/test-classes/eCH-0090-2-0.xsd
2017-05-19 16:48:51.035 [XMLValidator:90] [DEBUG] Schema location for eCH-0090-2-0.xsd: http://www.ech.ch/xmlns/eCH-0090/2 file:/C:/Users/pirklt/Desktop/MessageHandler-SRC/src/distribution/test-classes/eCH-0090-2-0.xsd
2017-05-19 16:48:51.089 [XMLValidator:90] [DEBUG] Schema location for eCH-0090-2-0.xsd: http://www.ech.ch/xmlns/eCH-0090/2 file:/C:/Users/pirklt/Desktop/MessageHandler-SRC/src/distribution/test-classes/eCH-0090-2-0.xsd
2017-05-19 16:48:51.143 [XMLValidator:90] [DEBUG] Schema location for eCH-0090-2-0.xsd: http://www.ech.ch/xmlns/eCH-0090/2 file:/C:/Users/pirklt/Desktop/MessageHandler-SRC/src/distribution/test-classes/eCH-0090-2-0.xsd
2017-05-19 16:48:51.243 [XMLValidator:90] [DEBUG] Schema location for eCH-0090-2-0.xsd: http://www.ech.ch/xmlns/eCH-0090/2 file:/C:/Users/pirklt/Desktop/MessageHandler-SRC/src/distribution/test-classes/eCH-0090-2-0.xsd
2017-05-19 16:48:51.258 [XMLValidator:90] [DEBUG] Schema location for eCH-0090-2-0.xsd: http://www.ech.ch/xmlns/eCH-0090/2 file:/C:/Users/pirklt/Desktop/MessageHandler-SRC/src/distribution/test-classes/eCH-0090-2-0.xsd
2017-05-19 16:48:51.300 [XMLValidator:56] [DEBUG] Schema location for sedex cert config: http://www.sedex.ch/xmlns/certificateConfiguration/1 file:/C:/Users/pirklt/Desktop/MessageHandler-SRC/src/distribution/test-classes/conf/CertificateConfiguration-1-0.xsd
2017-05-19 16:48:51.307 [SedexCertConfigFactory:125] [DEBUG] Parsing file: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh\install-dir\conf\certificateConfiguration.xml
2017-05-19 16:48:51.308 [SedexCertConfigFactory:209] [DEBUG] Found: p12 file: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh\base-path\thawtetest.p12, expireDate: Mon Nov 02 17:10:07 CET 2015
2017-05-19 16:48:51.309 [SedexCertConfigFactory:209] [DEBUG] Found: p12 file: C:\Users\pirklt\Desktop\MessageHandler-SRC\.\src\test\resources\complete\mh\base-path\thawtetest.p12, expireDate: Mon Jan 25 13:36:19 CET 2016
2017-05-19 16:48:51.331 [DbLogService:189] [ERROR] java.sql.SQLException: Table not found in statement [DELETE FROM status WHERE (received_date IS NULL AND DATEDIFF('dd', sent_date, CURRENT_TIMESTAMP) > ?) OR DATEDIFF('dd', received_date, CURRENT_TIMESTAMP) > ?] Query: DELETE FROM status WHERE (received_date IS NULL AND DATEDIFF('dd', sent_date, CURRENT_TIMESTAMP) > ?) OR DATEDIFF('dd', received_date, CURRENT_TIMESTAMP) > ? Parameters: [2, 2]
2017-05-19 16:48:51.331 [DbLogService:191] [DEBUG] Creating the status table...
2017-05-19 16:48:51.357 [DbLogService:193] [INFO] The status table is created.
2017-05-19 16:48:51.553 [DbLogService:358] [DEBUG] shutdown statement issued for the log service
2017-05-19 16:48:51.553 [DbLogService:362] [DEBUG] log service stopped
2017-05-19 16:48:51.585 [DbLogService:189] [ERROR] java.sql.SQLException: Table not found in statement [DELETE FROM status WHERE (received_date IS NULL AND DATEDIFF('dd', sent_date, CURRENT_TIMESTAMP) > ?) OR DATEDIFF('dd', received_date, CURRENT_TIMESTAMP) > ?] Query: DELETE FROM status WHERE (received_date IS NULL AND DATEDIFF('dd', sent_date, CURRENT_TIMESTAMP) > ?) OR DATEDIFF('dd', received_date, CURRENT_TIMESTAMP) > ? Parameters: [2, 2]
2017-05-19 16:48:51.585 [DbLogService:191] [DEBUG] Creating the status table...
2017-05-19 16:48:51.619 [DbLogService:193] [INFO] The status table is created.
2017-05-19 16:48:51.874 [DbLogService:358] [DEBUG] shutdown statement issued for the log service
2017-05-19 16:48:51.874 [DbLogService:362] [DEBUG] log service stopped
2017-05-19 16:48:51.879 [ProtocolWriter:67] [DEBUG] protocol file written: C:\Users\pirklt\AppData\Local\Temp\MH_protocolWriterTest2545393498620114909\file.pdf.prot
2017-05-19 16:48:51.880 [ProtocolWriter:86] [DEBUG] error file written: C:\Users\pirklt\AppData\Local\Temp\MH_protocolWriterTest2545393498620114909\file.pdf.err
2017-05-19 16:48:51.902 [ZipUtils:96] [DEBUG] cannot make all the necessary directories for the file C:\Users\pirklt\AppData\Local\Temp\uncompressed-1495205331900\content.xml or the path is already created 
2017-05-19 16:48:51.903 [ZipUtils:96] [DEBUG] cannot make all the necessary directories for the file C:\Users\pirklt\AppData\Local\Temp\uncompressed-1495205331900\communication-confirmation.pdf or the path is already created 
